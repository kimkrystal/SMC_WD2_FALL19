function createMethod(t){return!!t&&function(){throw new Error('The "'+t+"\" method is not available on the playback technology's API")}}function PixleeAddToCart(){this.fields={},this.setOptionFields=function(t,e){var r=this,n="selectField_"+e,i=t.nodes,s=this.fields.layout.properties[t.name],a=s.formValue,o=s.optionLabel,l=a.attribute,c=o.attribute;this.fields[n]={},this.fields[n].label=t.name,this.fields[n].type=a.type,isFalsy(s.optionLabel.subSelector)||(i=$(i[0]).find(s.optionLabel.subSelector)),this.fields[n].values=$.map(i,function(t){var e,n=$(t),i=r.extractProperty(l,n),o=r.extractProperty(c,n);return"click"===a.type?(e=s.submitSelector.replace("pixVal",i),i="click"):e=s.submitSelector,{value:i,name:o,selector:e=e.replace("=","^")}})},this.renderProduct=function(t){var e=$("#cta_container"),n=this.product;if(e.empty(),!n||!t)return!1;isFalsy(gon.display_options.reviewOptions&&gon.display_options.reviewOptions.lightboxReviews)||e.closest("#middle_block").addClass("reviews_active");var i=JST[this.template](n);if(e.append(i),enableLightboxReviews&&ReviewsHelper.generateReview(n),gon.isMobile||gon.isTablet){var o=e.find("#add_to_cart_container");e.find("#cta_holder").click(function(t){t.preventDefault(),o.addClass("active")})}},this.renderForm=function(t){var e=$("#add_to_cart_container"),n=this.product,i=1,o=this;if(!isFalsy(this.isCarousel)){var r=JST[this.formTemplate](n);e.empty(),e.append(r)}for(var s={fieldName:"quantity",label:"quantity",values:[]},a=0;a<=5;a++)s.values.push({name:a,value:a});for(this.createSelectOptions(s);t["selectField_"+i];){var l=_.clone(t["selectField_"+i]);l.fieldName=i,l.label&&0<l.values.length&&this.createSelectOptions(l),i++}var c=e.find(".dropdown_list"),u=e.find(".add_to_cart_button"),d=e.find(".close_button");c.change(function(){var t=$(this),e=t.find(":selected"),n={value:t.val(),selector:e.attr("data-selector"),index:t.attr("field")};o.onChangeOption(n)}),u.click(function(){return o.onClickAddtoCart(),o.addingToCart(),LightBoxEvents.AddToCartClicked(n.sku,o.albumPhotoId,t.price.trim(),t.quantity.currValue),!1}),(gon.isMobile||gon.isTablet)&&d.click(function(t){t.preventDefault(),e.removeClass("active")}),c.change(),LightBoxEvents.AddToCartLoaded(n.sku,this.albumPhotoId)},this.render=function(t){this.fields={},this.fields.layout=t.layout,this.fields.pdp_url=t.pdp_url,this.fields.price=t.price,this.setQuantityField(t.quantity,t.layout.quantity_id);for(var e=0;e<t.options.length;e++)this.setOptionFields(t.options[e],e+1);isFalsy(this.isCarousel)&&this.renderProduct(this.fields),this.renderForm(this.fields),this.checkStock(this.fields),this.setPrice(t.price),this.setProdImage(t.image),this.setTitle(t)},this.generateATC=function(t,e,n,i,o,r){if(t){var s=this;this.navigate=n,this.template=e,this.product=t,this.albumPhotoId=o,isFalsy(gon.display_options.reviewOptions&&gon.display_options.reviewOptions.lightboxReviews)||(this.product.review=getReview(this.product,r.selectedReviewInfo));var a=formatLink(t.link,gon.current_album,gon.display_options,this.product.extra_urls);a=encode_utf8(a),$.ajax({url:gon.global.pixleePhotosServer+"cta_valid",data:{productId:t.id,formattedUrl:a},type:"post",dataType:"json"});var l=gon.global.pixleePhotosServer+"addToCart/pdp?product_id="+t.id+"&account_id="+i+"&pdp_url="+a;$.ajax({url:l,cache:!0,dataType:"jsonp",type:"GET"}).success(function(t){s.successCallback(t)})}},this.switchAtcProduct=function(t){this.generateATC(this.products[t],this.template,!1,this.accountId,this.data.album_photo_id,this.data)},this.renderAtcCarousel=function(t,e,n,i,o,r,s){this.products=t,this.template=i,this.formTemplate=o,this.accountId=r,this.isCarousel=!0,this.data=s;var a=n.find("#cta_container"),l=s.selectedReviewInfo&&s.selectedReviewInfo.active,c=0;if(a.empty(),!t||t.length<=0)return n.find("#cta_prev, #cta_next").removeClass("active"),!1;isFalsy(gon.display_options.reviewOptions&&gon.display_options.reviewOptions.lightboxReviews)||a.closest("#middle_block").addClass("reviews_active");for(var u=n.find("#add_to_cart_container"),d=0;d<t.length;d++){var p=t[d];if(enableLightboxReviews&&(p.review=getReview(p,s.selectedReviewInfo)),!l||enableLightboxReviews&&p.review.active){var h=$(JST[i](p));h.find(".cta_img_large, .cta_img").css("background-image","url("+p.image_thumb_square+")"),a.append(h),c++,h.find(".cta_button").click(function(t){t.preventDefault(),u.addClass("active")})}}n.find("#cta_prev, #cta_next").toggleClass("active",2<=c),enableLightboxReviews&&l&&ReviewsHelper.generateReview(t[e],n),enableCarousel&&PixleeCarousel.setStartCtaIndex(e,c),this.switchAtcProduct(e,n)},this.successCallback=function(t){(t=oldNavyCallback(t)).options&&this.render(t)},this.loadingImage=function(t){var e=gon.isMobile||gon.isTablet?$("#cta_img"):$(".product_image");"quantity"!==t&&e.addClass("loading_image")},this.productLoading=function(){var t=$("#add_to_cart_container"),e=$("#cta_container");t.length<1&&e.addClass("loading_product")},this.loading=function(){var t=$(".add_to_cart_button"),e=$(".error_message");t.show(),e.hide(),t.removeClass("added_to_cart"),t.hasClass("check_stock")?t.removeClass("check_stock"):t.addClass("check_stock")},this.addingToCart=function(){$(".add_to_cart_button").addClass("adding_to_cart")},this.addedToCart=function(){var t=$(".add_to_cart_button");t.removeClass("check_stock adding_to_cart"),t.addClass("added_to_cart")},this.clearClasses=function(){$(".add_to_cart_button").removeClass("check_stock added_to_cart")},this.showError=function(){var t=$(".add_to_cart_button");$(".error_message").show(),this.clearClasses(),gon.isMobile||gon.isTablet?t.addClass("invalid"):t.hide()},this.removeError=function(){var t=$(".add_to_cart_button");$(".error_message").hide(),this.clearClasses(),gon.isMobile||gon.isTablet?t.removeClass("invalid"):t.show()},this.onChangeQuant=function(t){this.fields.quantity.currValue=t},this.onChangeOption=function(t){"quantity"==t.index?this.onChangeQuant(t.value):this.updateFormFields("selectField_"+t.index,t.value,t.selector);var e="true"===this.navigate?this.generateUrl():null;this.loadingImage(t.index),this.updateButtonHref(e)},this.onClickAddtoCart=function(){var t=this.generateUrl();if("false"===this.navigate||"f"===this.navigate){var e={name:"pixlee:message:datc:frame",type:"action",source:"lightbox",destination:"parent",data:{url:decode_utf8_link(t)}};window.parent.postMessage(JSON.stringify(e),"*")}else"full"===this.navigate?window.top.location.href=encodeURI(t):this.addedToCart()},this.updateButtonHref=function(t){var e=$(".add_to_cart_button");t&&e.attr("onclick",'window.open("'+t+'","_blank")')},this.setProdImage=function(t,e){var n=$(".product_image"),i=$("#cta_img");if(!isFalsy(e)&&e!==this.fields.pdp_url&&e.indexOf(this.fields.pdp_url)<0&&e.indexOf("?variant=")<0)n.removeClass("loading_image");else{var o='url("'+t+'")';0<n.length&&(n.removeClass("loading_image"),n.css("background-image",o),(gon.isMobile||gon.isTablet)&&(i.removeClass("loading_image"),i.css("background-image",o)))}},this.setTitle=function(e){var t=$(".product_name"),n=$(".info_content");t.html(decode_utf8_link(e.title)),n.click(function(){var t=decode_utf8_link(e.pdp_url);window.open(t,"_blank")})},this.setQuantityField=function(t,e){this.fields.quantity={},this.fields.quantity.label=e.replace(/[.,#]/g,""),this.fields.quantity.currSelector=this.fields.quantity.label.replace("=","^"),this.fields.quantity.currValue=1},this.setPrice=function(t){var e=t.toString().trim(),n=$(".product_price");isFalsy(e)||(isNaN(e.substring(0,1))?n.text(e):n.text("$"+e))},this.generateUrl=function(){var t=this.fields.quantity.currValue;1!=t&&this.onChangeQuant(t);var e=decode_utf8_link(this.fields.pdp_url),n=this.fields.layout.form_id.replace(/[.,#]/g,""),i=this.fields.layout.submit_button_id,o=e.split("#"),r=o[1],s=0<=(e=o[0]).indexOf("?")?"&":"?",a=e+s+"pix_atc=true&formId="+n+"&submitButton="+i+"&";return $.each(this.fields,function(t,e){"pdp_url"!==t&&"layout"!==t&&(a+=e.currSelector+"="+e.currValue+"&")}),840==this.fields.layout.account_id&&(a+="mlink=0,HP_Pixlee_CTA"),r!==undefined&&(a+="#"+r),a},this.updateFormFields=function(t,e,n){this.fields[t].currValue=e,this.fields[t].currSelector=n,this.checkStock(this.fields)},this.checkStock=function(t){if(!_.isEmpty(t)){var e={name:"pixlee:message:datc:frame",type:"action",source:"lightbox",destination:"parent",data:{url:decode_utf8_link(t.pdp_url),fields:t}};window.parent.postMessage(JSON.stringify(e),"*")}},this.createSelectOptions=function(t){for(var e=$(JST["javascripts/standalone/lightbox/templates/add_to_cart/_product_option"](t)),n=e.find(".dropdown_list"),i=$(".selection_content"),o=0;o<t.values.length;o++){var r=t.values[o];if(r.name){var s='<option value ="'+r.value+'" data-selector="'+r.selector+'">'+r.name+"</option>";n.append(s)}}1<t.values.length&&i.prepend(e)},this.extractProperty=function(t,e){var n;switch(t){case"value":n=e.val();break;case"text":n=e.text();break;default:n=e.attr(t)}return n}}function PixleeReviews(){this.visible=!1,this.generateReview=function(t,e){var n;!this.visible||isFalsy(t)||isFalsy(t.review)||(n=isFalsy(e)?$(".review_holder"):e.find(".review_holder"),templateData=_.clone(t),templateData.isReviewFeatured=this.visible,n.empty(),n.append(JST["javascripts/standalone/lightbox/templates/reviews/_reviews"](templateData)))},this.setVisibility=function(t){this.visible=t}}function insertParam(t,e,n){if(0<=t.indexOf(e+"=")){var i=t.substring(0,t.indexOf(e)),o=t.substring(t.indexOf(e)).substring(t.indexOf("=")+1);t=i+e+"="+n+(o=0<=o.indexOf("&")?o.substring(o.indexOf("&")):"")}else t.indexOf("?")<0?t+="?"+e+"="+n:t+="&"+e+"="+n;return t}function insertParamString(t,e){return"&"!==e[0]&&"?"!==e[0]||(e=e.substring(1)),t.indexOf("?"+e)<0&&t.indexOf("&"+e)<0&&(t.indexOf("?")<0?t+="?"+e:t+="&"+e),t}function isFalsy(t){return 0==t||""==t||null==t||"undefined"==t||t==undefined||t==NaN||"null"==t||"false"==t||0==t||"0"==t}function actionLinkFormatted(t){return isFalsy(t.action_link)?"":decode_utf8(t.action_link)}function captionFormatted(t){var e;isFalsy(t.title)&&""!==t.title?isFalsy(t.album_title)?isFalsy(t.photo_title)||(e=t.photo_title):e=t.album_title:e=t.title;var n=decode_utf8(e);return isFalsy(n)?"":n}function uploaderAdditionalFields(t,e){var n=t.data.uploader_additional_fields,i="",o=e.find("#user_info_holder");if(!_.isEmpty(n)){var r=o.find(".additional_upload_info");_.each(n,function(t,e){e=e.split(" ")[0],i+='<div class="additional_upload_info '+e+'">'+t+"</div>"}),r.length&&r.remove(),o.append(i)}}function actionLinkTextFormatted(t){return isFalsy(t.action_link_text)?"":decode_utf8(t.action_link_text)}function actionLinkPhotoFormatted(t){return isFalsy(t.action_link_photo)?"":decode_utf8(t.action_link_photo)}function src(t){var e="https://static.pixlee.com",n="";return null!==t.data_file_name?n=e+"/photos/"+t.photo_id+"/original/"+t.data_file_name:"image"!==t.content_type&&t.content_type||null===t.source_url?"video"===t.content_type&&(n=t.thumbnail_url):n=t.source_url,n.replace("http://","https://")}function altText(t){var e="";return isFalsy(t)||(isFalsy(t.alt_text)?isFalsy(t.content_type)||(e=isFalsy(t.user_name)?t.content_type:t.content_type+" by "+t.user_name):e=t.alt_text),decode_utf8(e)}function altTextProduct(t){var e="";return isFalsy(t)||(e=t+" product"),e}function submitterFormatted(t){var e,n;return e=isFalsy(t.user_name)?isFalsy(t.email_address)?"Submitted by you":t.email_address:t.user_name,isFalsy(t.source)&&(n="desktop"),"instagram"!==(n=t.source)&&"twitter"!==n||(e="@"+e.replace("@","")),e}function posterUrl(t){return t.big_url||t.thumbnail_url}function videoURL(t){return(t.source_url||"").replace("http://","https://")}function submitterHref(t){if(!isFalsy(t.platform_link))return t.platform_link;if(!isFalsy(t.submitter_link))return t.submitter_link;switch(t.source){case"instagram":return"http://instagram.com/"+t.submitterFormatted.replace("@","");case"twitter":return"http://twitter.com/"+t.submitterFormatted.replace("@","");case"youtube":return"https://www.youtube.com/channel/"+t.connected_user_social_id;default:return"javascript: void(0)"}}function actionLinkTitleFormatted(t){return isFalsy(t.action_link_title)?"":decode_utf8(t.action_link_title)}function get_short_url(t,e){$.getJSON("https://api-ssl.bitly.com/v3/shorten?",{format:"json",apiKey:"R_1437b1d85beb4300927d14a747f76eaf",login:"die",longUrl:t},function(t){e(t.data.url)})}function trackShare(e,n,i,o,r,s){clearTimeout(this.shareTimer),LightBoxEvents.PhotoShared(e,i),this.shareTimer=setTimeout(function(){var t;t=void 0!==o?o:null,0<parseInt(e)&&$.ajax({url:"/social/share",type:"post",data:{album_photo_id:parseInt(e),fingerprint:gon.distinct_user_hash,link:n,shortlink:r,provider:i,post_id:t,utm_medium:s.medium||"",utm_campaign:s.campaign||"",utm_term:s.term||"",utm_content:s.content||""},dataType:"json",success:function(t){t.error_code}})},2e3)}function getPhotoFileUrl(t,e){return"https://static.pixlee.com/photos/"+e.id+"/"+t+"/"+encode_utf8(e.data_file_name)}function getPhotoThumbnailUrl(t){return isFalsy(t.data_file_name)?t.medium_url?t.medium_url.replace("http://","https://"):t.thumbnail_url?t.thumbnail_url.replace("http://","https://"):t.source_url?t.source_url.replace("http://","https://"):void 0:getPhotoFileUrl("medium",t)}function escapeHtml(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(t).replace(/[&<>'"\/]/g,function(t){return e[t]})}function getTitle(t){return gon.display_options.options&&!gon.display_options.options.showCaptions?"":isFalsy(t.title)&&""!==t.title?isFalsy(t.album_title)?!isFalsy(t.photo_title)&&t.photo_title:t.album_title:t.title}function encode_utf8(t){var e=t;try{e=encodeURIComponent(t)}catch(n){try{e=escape(t)}catch(i){try{e=unescape(encodeURIComponent(t))}catch(i){e=t}}}return e}function decode_utf8(t){var e=t;try{e=decodeURIComponent(t)}catch(n){try{e=unescape(t)}catch(n){try{e=decodeURIComponent(escape(t))}catch(n){e=t}}}return e}function decode_utf8_link(t){var e=t;try{e=decodeURIComponent(t)}catch(n){try{e=unescape(t)}catch(n){try{e=decodeURIComponent(escape(t))}catch(n){e=t}}}return e=e.replace(/\"/gi,"%22")}function determineLightboxVersion(t){lightboxVersion=t.lightbox_version||DEFAULT_LIGHTBOX_VERSION}function getSpinnerUrl(t){var e="https://assets.pixlee.com/photos_loader_dont_delete/pixlee_mini_loader.gif";return t.hasOwnProperty("customSpinnerUrl")?t.customSpinnerUrl:e}function findActiveReview(t,e){var n=_.find(t,function(t){return t.id===e.id});return isFalsy(n)||(n.active=!0),n}function datcActiveProductIndex(t,i){var o=0;return _.each(t,function(t,e){var n=t.reviews_info.reviews;isFalsy(i&&findActiveReview(n,i))||(o=e)}),o}function getReview(t,e){var n,i=t.reviews_info&&t.reviews_info.num_reviews?t.reviews_info.reviews:[{id:0,score:0,user_name:"",title:"",content:"",active:!1}];return isFalsy(e&&e.active)||(n=findActiveReview(i,e)),n||i[0]}function linkLoaded(t){if(t&&t.products&&0<t.products.length){var e=t.album_photo_id,n=!isFalsy(t.products[0].image);LightBoxEvents.ActionLinkLoaded(e,t.products.length,n)}}function assignCTAOnclick(t,e,n,i){if(t)if("products"===i&&n===e.album_id){var o=$(t),r="Continue Shopping",s=0<o.find(".cta_img").length;o.find(".product_cta, .cta_button").addClass("is_current_pdp").attr("data-content",r),t.onclick=function(t){return LightBoxEvents.ActionLinkClicked(e.product_album_photo_id,e.link,r,s),$(".mfp-close").click(),t.preventDefault(),!1}}else t.onclick=(a=e.id,function(){return $.ajax({url:gon.global.pixleePhotosServer+"cta_valid",data:{productId:a,formattedUrl:this.href},type:"post",dataType:"json"}),!0});var a}function filterProductsByDomain(t,e){for(var n=document.referrer,i="",o=["pixlee.com","pixlee.gallery","tap2shop","pixleeteam","socialfeed","feedshop"],r=0;r<o.length;r++)if(-1<n.indexOf(o[r]))return e;for(var s in t)t.hasOwnProperty(s)&&-1<n.indexOf(s)&&s.length>i.length&&(i=s);for(var a=e.length-1;0<=a;a--)(isFalsy(i)||isFalsy(e[a].link)||decode_utf8_link(e[a].link).indexOf(t[i])<0)&&e.splice(a,1);return e}function filterProductsByPDP(t,e){e=e||[];for(var n=gon.current_account.features,i=!_.isTruthy(gon.display_options.reviewOptions&&gon.display_options.reviewOptions.displayReviews)&&(isFalsy(n)||-1===n.indexOf("pdp_self_link")),o=e.length-1;0<=o;o--)i&&e[o].album_id===t.id&&e.splice(o,1);return e}function renderProductCTA(t,e,n,i,o,r){var s,a,l,c=_.clone(t.products),u=e.find("#cta_container"),d=0;c=(c=filterProductsByPDP(n,c)).map(function(t){return t.link=formatLink(t.link,n,i,t.extra_urls),t}),isFalsy(gon.current_account.extra_fields)||isFalsy(gon.current_account.extra_fields.valid_product_domains)||(a=gon.current_account.extra_fields.valid_product_domains),_.isEmpty(a)||(c=filterProductsByDomain(a,c));for(var p=activeCtaIndex=0;p<c.length;p++){var h=c[p],f=t.products[p],v="v1"===lightboxVersion||!gon.isMobile&&!gon.isTablet,m=t.selectedReviewInfo&&t.selectedReviewInfo.active;f.review=getReview(f,t.selectedReviewInfo),enableLightboxReviews&&e.find("#middle_block").addClass("reviews_active");var y=v||!m||enableLightboxReviews&&h.review.active;(s=_.clone(h)).image=h.custom_cta_photo,s.link_text=isFalsy(s.link_text)?"Buy Now":s.link_text||" ",s.is_default_product_cta=!0,isFalsy(s.image)&&(s.image=h.image_thumb?h.image_thumb:h.image);var g=JST[o](s);y&&(d++,u.append(g)),assignCTAOnclick(u.find("a")[p],s,t.album_id,i.album_type);var j=u.children();if(0<p&&!r||r&&r!==p){var b=$(j[p]);b.addClass("invalid"),s.review&&s.review.active&&(activeCtaIndex=p,j.addClass("invalid"),b.removeClass("invalid"),l=h)}else l=h}configArrows(e,u,d),enableLightboxReviews&&l&&ReviewsHelper.generateReview(l,e);var C=enableCarousel&&0<d;e.find("#caption_holder").toggle(!C),C?PixleeCarousel.setStartCtaIndex(activeCtaIndex,d):enableHotspots&&HotspotsHelper.setCtaProductIndex(activeCtaIndex)}function setCtaLinks(t,e,n,i,o){var r;e.actionLinkFormatted&&e.actionLinkTextFormatted?(r={link:e.actionLinkFormatted,link_text:e.actionLinkTextFormatted,is_default_product_cta:!1,image:e.actionLinkPhotoFormatted,title:e.actionLinkTitleFormatted},createCta(r,t,o),t.find("#middle_block, #cta_container, #cta_panel").show()):0<e.products.length?renderProductCTA(e,t,n,i,o,0):i.customCallToActionLink&&i.customCallToActionText?(r={link:i.customCallToActionLink,link_text:i.customCallToActionText,is_default_product_cta:!1,image:i.customCallToActionPhoto,title:i.customCallToActionTitle,review:{}},createCta(r,t,o),t.find("#middle_block, #cta_container, #cta_panel").show()):(hideArrows(t),enableCarousel&&t.find("#caption_holder").show(),t.find("#middle_block, #cta_container, #cta_panel").hide())}function initalizeCtaClicks(s,a,l){var t=function(){datcIndex=0,$("#cta_container").find(".cta_item_container").click(function(){var t=magnificPopup.items[magnificPopupIndex].data.album_photo_id,e=$(this),n=e.attr("href"),i=e.find(".product_name").text();n=formatLink(n,a,l),e.attr("href",n);var o=0<e.find(".cta_img").length;if(isFalsy(n))return!1;window.parent.postMessage(JSON.stringify({name:"pixlee:cta:clicked",type:"action",source:"lightbox",destination:"parent",data:{ctaText:i,ctaUrl:n}}),"*"),LightBoxEvents.ActionLinkClicked(t,n,i,o)})},e=function(t){var e,n=magnificPopup.items[magnificPopupIndex].data;if(enableDatc)return(datcIndex="next"===t?datcIndex+1:datcIndex-1)<0?datcIndex=n.products.length-1:datcIndex>=n.products.length&&(datcIndex=0),n.products[datcIndex].datc_override?($("#cta_container").empty(),void renderProductCTA(n,$('[id*="photo_lightbox_wrapper"]'),a,l,s,datcIndex)):(PixleeDATC.generateATC(n.products[datcIndex],PixleeDATC.template,PixleeDATC.navigate,gon.current_account.id,n.album_photo_id,n),enableHotspots&&HotspotsHelper.setCtaProductIndex(datcIndex,!0),void(enableCarousel&&PixleeCarousel.goToIndex(datcIndex)));var i=$("#cta_container > a"),o=(i.length,i.not(".invalid"));enableHotspots&&(activeCtaIndex=HotspotsHelper.getCtaProductIndex()),linkLoaded(n),o.addClass("invalid"),"next"===t?0===o.next().length?(e=i.first(),activeCtaIndex=0):(e=o.next(),activeCtaIndex+=1):0===o.prev().length?(e=i.last(),activeCtaIndex=i.length-1):(e=o.prev(),activeCtaIndex-=1),e.removeClass("invalid"),enableCarousel?PixleeCarousel.paginate(t):(enableLightboxReviews&&ReviewsHelper.generateReview(n.products[activeCtaIndex]),enableHotspots&&HotspotsHelper.setCtaProductIndex(activeCtaIndex,!0));var r={name:"pixlee:cta:changed",type:"action",source:"widget",destination:"parent",data:{product:n.products[activeCtaIndex]}};window.parent.postMessage(JSON.stringify(r),"*")},n=$("#cta_prev"),i=$("#cta_next");n.unbind(),i.unbind(),n.click(function(){e("prev")}),i.click(function(){e("next")}),t()}function initializeClicks(){var h=function(t,e){var n={name:"pixlee:social:share",type:"action",source:"lightbox",destination:"parent",data:{socialNetwork:e,products:_.map(t.products,function(t){return{name:decodeURIComponent(t.title),sku:t.sku,imageUrl:decodeURIComponent(t.image),linkUrl:decodeURIComponent(t.link)}})}};window.parent.postMessage(JSON.stringify(n),"*")},f=function(t,e,n){return _.isEmpty(e)||(t=_.isTruthy(n)?insertParam(t,"utm_source",encode_utf8(n)):t,t=_.isTruthy(e.medium)?insertParam(t,"utm_medium",encode_utf8(e.medium)):t,t=_.isTruthy(e.campaign)?insertParam(t,"utm_campaign",encode_utf8(e.campaign)):t,t=_.isTruthy(e.term)?insertParam(t,"utm_term",encode_utf8(e.term)):t,t=_.isTruthy(e.content)?insertParam(t,"utm_content",encode_utf8(e.content)):t),t};$(".vote_button").click(function(){var t=magnificPopup.items[magnificPopupIndex].data;t.userVoted=!0,delete t.close_replaceWith,delete t.img_replaceWith;var e={name:"pixlee:lightbox:vote",type:"relay",source:"lightbox",destination:"widget",data:JSON.stringify(t)},n=this.voteInterval||gon.current_album&&gon.current_album.vote_interval;-1===[undefined,null,"1 day","1 week","1 year"].indexOf(n)&&setTimeout(function(){t.likeCount++,t.userVoted=!1,$.magnificPopup.instance.updateItemHTML()},1e3),window.parent.postMessage(JSON.stringify(e),"*"),$.magnificPopup.instance.updateItemHTML()}),$("#tumblr_share").click(function(){var t,e=magnificPopup.items[magnificPopupIndex].data,n=gon.current_album||current_album,i=gon.display_options&&gon.display_options.utm?gon.display_options.utm:{},o=getTitle(e),r=insertParam(window.location!=window.parent.location?document.referrer:document.location.href,"pixlee_album_photo_id",e.album_photo_id);r=f(r,i,"tumblr"),o=isFalsy(o)?n.campaign?"I just voted for my favorite photo!":"Check this photo out!":decode_utf8(o),t="https://www.tumblr.com/share/photo?clickthru="+encode_utf8(r)+"&source="+encode_utf8(getPhotoThumbnailUrl(e))+"&caption="+encode_utf8(o),window.open(t,"_blank","height=450,width=600,toolbar=0,resizable=0"),trackShare(e.album_photo_id,r,"tumblr",undefined,r,i),h(e,"tumblr")}),$("#facebook_share").click(function(){var t=magnificPopup.items[magnificPopupIndex].data,e=gon.current_album||current_album,n=gon.display_options&&gon.display_options.utm?gon.display_options.utm:{},i=insertParam(window.location!=window.parent.location?document.referrer:document.location,"pixlee_album_photo_id",t.album_photo_id),o=getTitle(t);isFalsy(o)&&(o=e.campaign?"I just voted for my favorite photo!":"Check this photo out!");var r=t.album_photo_id,s=gon.distinct_user_hash,a=null,l=window.location.protocol+"//"+window.location.host,c=SOCIAL_SHARE_PARAM,u=decode_utf8(o).replace(/[#&\*\+]/g,"");if(isFalsy(e))var d="Check this photo out!";else d=decode_utf8(e.title).replace(/[#&\*\+]/g,"");c=insertParam(c=insertParam(c=insertParam(c=insertParam(c=insertParam(c=insertParam(c=insertParam(c=insertParam(c=insertParam(c,"descr",encode_utf8(encode_utf8(u))),"title",encode_utf8(d)),"img",encode_utf8(encode_utf8(getPhotoThumbnailUrl(t)))),"shareLink",encode_utf8(i)),"album_photo_id",encode_utf8(r)),"fingerprint",s),"post_id",a),"type","image"),"source","facebook");var p=l+(c=f(c,n,"facebook"));window.open(p,"_blank","height=450,width=600,toolbar=0,resizable=0"),trackShare(t.album_photo_id,i,"facebook",undefined,i,n),h(t,"facebook")}),$("#pinterest_share").click(function(){var t=magnificPopup.items[magnificPopupIndex].data,e=gon.current_album||current_album,n=gon.display_options&&gon.display_options.utm?gon.display_options.utm:{},i=getTitle(t),o=insertParam(window.location!=window.parent.location?document.referrer:document.location,"pixlee_album_photo_id",t.album_photo_id);o=f(o,n,"pinterest"),i=isFalsy(i)?e.campaign?"I just voted for my favorite photo!":"Check this photo out!":decode_utf8(i),window.open("https://pinterest.com/pin/create/button/?url="+encode_utf8(o)+"&media="+encode_utf8(getPhotoThumbnailUrl(t))+"&description="+encode_utf8(i),"_blank","height=450,width=600,toolbar=0,resizable=0"),trackShare(t.album_photo_id,o,"pinterest",undefined,o,n),h(t,"pinterest")}),$("#twitter_share").click(function(){var t=magnificPopup.items[magnificPopupIndex].data,e=gon.current_album||current_album,n=gon.display_options&&gon.display_options.utm?gon.display_options.utm:{},i=insertParam(window.location!=window.parent.location?document.referrer:document.location,"pixlee_album_photo_id",t.album_photo_id),o=t.user_name,r=getTitle(t);r=isFalsy(r)?e.campaign?"I just voted for my favorite photo! Vote for your fave: ":"Check this photo out! ":decode_utf8(r);var s=t.album_photo_id,a=gon.distinct_user_hash,l=null,c=window.location.protocol+"//"+window.location.host,u=SOCIAL_SHARE_PARAM;if(u=insertParam(u,"descr",encode_utf8(encode_utf8(decode_utf8(r)))),isFalsy(e))var d="Check this photo out!";else d=encode_utf8(decode_utf8(e.title));u=insertParam(u=insertParam(u=insertParam(u=insertParam(u=insertParam(u=insertParam(u=insertParam(u=insertParam(u=insertParam(u,"title",d),"img",encode_utf8(encode_utf8(getPhotoThumbnailUrl(t).replace(/%20/g,"+")))),"shareLink",encode_utf8(i)),"album_photo_id",encode_utf8(s)),"fingerprint",a),"post_id",l),"type","image"),"author",o),"source","twitter");var p=c+(u=f(u,n,"twitter"));window.open(p,"_blank","height=450,width=600,toolbar=0,resizable=0"),trackShare(t.album_photo_id,i,"twitter",undefined,i,n),h(t,"twitter")}),$("#report_button, #mobile_report_button").click(function(){var t=magnificPopup.items[magnificPopupIndex].data;LightBoxEvents.analyticsTrackClickReportButton(t.album_photo_id)})}function hideArrows(t){t.find("#cta_prev, #cta_next").removeClass("active")}function showArrows(t){t.find("#cta_prev, #cta_next").addClass("active")}function formatLink(t,e,n,i){try{var o=document.referrer;if(!isFalsy(n.prepend_countries)){var r="",s="",a="";0!==(o=o.split("://")[1]).indexOf("www")&&(r=o.split(".")[0],s=t.split("://")[0],0===(a=t.split("://")[1]).indexOf("www")&&(a=a.substring(4)),0!==a.indexOf(r)&&(t=s+"://"+r+"."+a))}if(!isFalsy(n.prepend_countries2)){var l=(o=o.split("://")[1]).indexOf("/");if(-1<l){var c=o.indexOf("/",l+1);if(-1<c&&c-l<5){var u=o.substring(l+1,c),d=t.indexOf(".com/")+4,p=t.substring(d);t=t.substring(0,d+1)+u+p}}}var h=n.country_map||gon.current_account.extra_fields.country_map;if(!isFalsy(h)){try{i=JSON.parse(i)}catch(_){}var f="";for(var v in h)h.hasOwnProperty(v)&&-1<o.indexOf(v)&&v.length>f.length&&(t=i[h[v]]||t,f=v)}if(isFalsy(n.url_scheme)&&isFalsy(gon.current_account.extra_fields.url_scheme))return t;try{var m=t,y=e.title.replace(/ /g,"-").toLowerCase(),g=encodeURIComponent(encodeURIComponent(y));switch(n.url_scheme?n.url_scheme.url_scheme_title:gon.current_account.extra_fields.url_scheme.url_scheme_title){case"kimpton_gacid":m=insertParam(m,"gacid",window.PixleeTags.Kimpton.GACID);break;case"kcp_pixlee":m=insertParam(m,"om","pixlee:"+g+":"+e.id);break;case"kcp_pixlee_v2":m=insertParam(m,"pixlee",g+":"+e.id);break;case"zsupply":m=insertParam(m=insertParam(m,"utm_source","pixlee"),"utm_medium",g);break;default:m=insertParamString(m,n.url_scheme?n.url_scheme.attribution_string:gon.current_account.extra_fields.url_scheme.attribution_string)}return m}catch(_){return t}}catch(_){return t}}function modifyPBPDestination(){var t=gon.current_account.extra_fields.landing_page_url;isFalsy(t)||$("#powered_by_pixlee").attr("href",t+"&utm_medium=widget-lightbox")}function PixleeHotspots(C){var i,w="javascripts/standalone/lightbox/templates/hotspots/_hotspot",t=".hotspot_marker_container",x=".hotspot_marker",T=[],k=[],l=!0;this.ctaProductIndex=0,this.animatingVisibility=!1,this.holdPeekingHotspot=!1,this.peekingHotspot=null,this.listenerAttached=!1,enableHotspots=!0,this.setHotspots=function(e,n,t){T=[];var i,o=t.products;o=(o=filterProductsByPDP(n,o)).map(function(t){return t.link=formatLink(t.link,n,e,t.extra_urls),t}),isFalsy(gon.current_account.extra_fields)||isFalsy(gon.current_account.extra_fields.valid_product_domains)||(i=gon.current_account.extra_fields.valid_product_domains),_.isEmpty(i)||(o=filterProductsByDomain(i,o));for(var r=0;r<o.length;r++){var s=o[r];if(e.hotspots&&"image"===t.content_type){var a=_.find(t.bounding_box_products,function(t){return t.product_id===s.id});isFalsy(a)||(a.index=r,T.push(a))}}t.hotspots=T,l=!0},this.setActiveHotspot=function(t){var e=$(C),n=k[t];e.find(x).removeClass("active"),isFalsy(n)||n.addClass("active"),this.peekActiveHotspot(n)},this.setToggleVisibilityOnTap=function(){this.listenerAttached||($(C).click(function(){this.toggleHotspots(!l)}.bind(this)),this.listenerAttached=!0)},this.setToggleVisibilityOnHover=function(){this.listenerAttached||($(C).hover(function(){this.toggleHotspots(!0)}.bind(this),function(){this.toggleHotspots(!1)}.bind(this)),this.listenerAttached=!0)},this.setPeekActiveHotspotTrigger=function(){triggerElems=Array.prototype.slice.call(arguments),$.each(triggerElems,function(t,e){e.on({mouseenter:n.bind(this,!0),mouseleave:n.bind(this,!1)})}.bind(this))};var n=function(t){this.holdPeekingHotspot=t,this.toggleActiveHotspot(t)};this.toggleHotspots=function(n){if(this.finishHotspotAnimations(),!this.animatingVisibility&&l!==n){var i=this;$(C).find(t).each(function(){var t=$(this),e=t.find(x);t.is(":first-child")&&(i.animatingVisibility=!0),n&&t.css("visibility","visible"),i.animatingVisibility=!0,e.animate({opacity:n?1:0},{duration:n?250:400,easing:"easeOutBack",step:function(t){e.css("transform","scale("+t+")")},complete:function(){n||t.css("visibility","hidden"),t.is(":last-child")&&(i.animatingVisibility=!1)}})}),l=n}},this.toggleActiveHotspot=function(t,e,n){if(!l&&(this.finishHotspotAnimations(),void 0!==e||!isFalsy(e=k[this.ctaProductIndex]))){void 0===n&&(n=0);var i=e.parent();t?e.delay(n).animate({opacity:1},{duration:this.isHotspotPeeking?0:175,easing:"easeInOutExpo",start:function(){this.animatingVisibility=!0,this.peekingHotspot=e,i.css("visibility","visible"),e.css("transform","scale(1)")}.bind(this)}):e.delay(n).animate({opacity:0},{duration:500,easing:"easeOutSine",complete:function(){i.css("visibility","hidden"),e.css("transform","scale(0)"),this.animatingVisibility=!1,this.peekingHotspot=null}.bind(this)})}},this.peekActiveHotspot=function(){if(!l){var t=k[this.ctaProductIndex];isFalsy(this.peekingHotspot)||this.toggleActiveHotspot(!1,this.peekingHotspot,0),this.toggleActiveHotspot(!0,t,0),this.holdPeekingHotspot||this.toggleActiveHotspot(!1,t,350)}},this.finishHotspotAnimations=function(){k.forEach(function(t){t.finish()})},this.getCtaProductIndex=function(){return this.ctaProductIndex},this.setCtaProductIndex=function(t,e){this.ctaProductIndex=t,e&&this.setActiveHotspot(t)},this.getHotspots=function(){return T};var a=function(){var t=magnificPopup.items[magnificPopupIndex].data.album_photo_id;LightBoxEvents.HotspotsClicked(t)},P=function(t,e,n){if(!l)return!1;a();var i=$(n.currentTarget),o=magnificPopup.items[magnificPopupIndex],r=o.data;if(!i.hasClass("active")){this.setCtaProductIndex(t,!0);var s=e.children();if(s.addClass("invalid"),$(s[t]).removeClass("invalid"),enableDatc){if(datcIndex=t,r.products[datcIndex].datc_override)return e.empty(),void renderProductCTA(o.data,$('[id*="photo_lightbox_wrapper"]'),currentAlbum,displayOptions,template,datcIndex);PixleeDATC.generateATC(r.products[datcIndex],PixleeDATC.template,PixleeDATC.navigate,gon.current_account.id,r.album_photo_id,r)}}return enableLightboxReviews&&ReviewsHelper.generateReview(r.products[t]),enableCarousel&&PixleeCarousel.goToIndex(t),!1},S=function(t){if(gon.isMobile||gon.isTablet){var e=$(".mfp-arrow-left"),n=$(".mfp-arrow-right");i&&i.destroy(),(i=new Hammer(t)).on("swipe",function(t){2===t.direction?n.click():4===t.direction&&e.click()})}};this.destroyHammertime=function(){i&&i.destroy()},this.renderHotspots=function(){setTimeout(function(){if(!isFalsy(magnificPopup)){var t=magnificPopup.items[magnificPopupIndex],e=t.img.get(0),n=$(C),i=$("#cta_container"),o=(gon.isMobile||gon.isTablet)&&t.data.selectedReviewInfo&&t.data.selectedReviewInfo.active;if(!isFalsy(T)&&!o){S(n[0]);for(var r=0;r<T.length;r++){var s=T[r];if(!isFalsy(s.x
)&&!isFalsy(s.y)){var a=n.width(),l=e.naturalHeight,c=e.naturalWidth,u=a*(l/c),d=a*(c/l),p=0,h=0;l!==c&&(c<l?(u=a,h=(l-c)/2):(d=a,p=(c-l)/2));var f=l/u,v=c/d,m=s.width/3,y=s.height/3,g={left:(s.x+h+m)/v/a*100,top:(s.y+p+y)/f/a*100},_=JST[w](g),j=$(_);j.click(P.bind(this,s.index,i)),k[s.index]=j.find(x),n.append(j)}}}var b=k[this.ctaProductIndex];b&&b.addClass("active")}}.bind(this),150)}}!function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},e=t._,i=Array.prototype,s=Object.prototype,d="undefined"!=typeof Symbol?Symbol.prototype:null,o=i.push,l=i.slice,p=s.toString,r=s.hasOwnProperty,n=Array.isArray,a=Object.keys,c=Object.create,u=function(){},h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};"undefined"==typeof exports||exports.nodeType?t._=h:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=h),exports._=h),h.VERSION="1.9.1";var f,v=function(o,r,t){if(void 0===r)return o;switch(null==t?3:t){case 1:return function(t){return o.call(r,t)};case 3:return function(t,e,n){return o.call(r,t,e,n)};case 4:return function(t,e,n,i){return o.call(r,t,e,n,i)}}return function(){return o.apply(r,arguments)}},m=function(t,e,n){return h.iteratee!==f?h.iteratee(t,e):null==t?h.identity:h.isFunction(t)?v(t,e,n):h.isObject(t)&&!h.isArray(t)?h.matcher(t):h.property(t)};h.iteratee=f=function(t,e){return m(t,e,Infinity)};var y=function(s,a){return a=null==a?s.length-1:+a,function(t,e){for(var n=Math.max(arguments.length-a,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+a];switch(a){case 0:return s.call(this,i);case 1:return s.call(this,t,i);case 2:return s.call(this,t,e,i)}var r=Array(a+1);for(o=0;o<a;o++)r[o]=arguments[o];return r[a]=i,s.apply(this,r)}},g=function(t){if(!h.isObject(t))return{};if(c)return c(t);u.prototype=t;var e=new u;return u.prototype=null,e},_=function(e){return function(t){return null==t?void 0:t[e]}},j=function(t,e){return null!=t&&r.call(t,e)},b=function(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0},C=Math.pow(2,53)-1,w=_("length"),x=function(t){var e=w(t);return"number"==typeof e&&0<=e&&e<=C};h.each=h.forEach=function(t,e,n){var i,o;if(e=v(e,n),x(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else{var r=h.keys(t);for(i=0,o=r.length;i<o;i++)e(t[r[i]],r[i],t)}return t},h.map=h.collect=function(t,e,n){e=m(e,n);for(var i=!x(t)&&h.keys(t),o=(i||t).length,r=Array(o),s=0;s<o;s++){var a=i?i[s]:s;r[s]=e(t[a],a,t)}return r};var T=function(l){var r=function(t,e,n,i){var o=!x(t)&&h.keys(t),r=(o||t).length,s=0<l?0:r-1;for(i||(n=t[o?o[s]:s],s+=l);0<=s&&s<r;s+=l){var a=o?o[s]:s;n=e(n,t[a],a,t)}return n};return function(t,e,n,i){var o=3<=arguments.length;return r(t,v(e,i,4),n,o)}};h.reduce=h.foldl=h.inject=T(1),h.reduceRight=h.foldr=T(-1),h.find=h.detect=function(t,e,n){var i=(x(t)?h.findIndex:h.findKey)(t,e,n);if(void 0!==i&&-1!==i)return t[i]},h.filter=h.select=function(t,i,e){var o=[];return i=m(i,e),h.each(t,function(t,e,n){i(t,e,n)&&o.push(t)}),o},h.reject=function(t,e,n){return h.filter(t,h.negate(m(e)),n)},h.every=h.all=function(t,e,n){e=m(e,n);for(var i=!x(t)&&h.keys(t),o=(i||t).length,r=0;r<o;r++){var s=i?i[r]:r;if(!e(t[s],s,t))return!1}return!0},h.some=h.any=function(t,e,n){e=m(e,n);for(var i=!x(t)&&h.keys(t),o=(i||t).length,r=0;r<o;r++){var s=i?i[r]:r;if(e(t[s],s,t))return!0}return!1},h.contains=h.includes=h.include=function(t,e,n,i){return x(t)||(t=h.values(t)),("number"!=typeof n||i)&&(n=0),0<=h.indexOf(t,e,n)},h.invoke=y(function(t,n,i){var o,r;return h.isFunction(n)?r=n:h.isArray(n)&&(o=n.slice(0,-1),n=n[n.length-1]),h.map(t,function(t){var e=r;if(!e){if(o&&o.length&&(t=b(t,o)),null==t)return;e=t[n]}return null==e?e:e.apply(t,i)})}),h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matcher(e))},h.findWhere=function(t,e){return h.find(t,h.matcher(e))},h.max=function(t,i,e){var n,o,r=-Infinity,s=-Infinity;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=x(t)?t:h.values(t)).length;a<l;a++)null!=(n=t[a])&&r<n&&(r=n);else i=m(i,e),h.each(t,function(t,e,n){o=i(t,e,n),(s<o||o===-Infinity&&r===-Infinity)&&(r=t,s=o)});return r},h.min=function(t,i,e){var n,o,r=Infinity,s=Infinity;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=x(t)?t:h.values(t)).length;a<l;a++)null!=(n=t[a])&&n<r&&(r=n);else i=m(i,e),h.each(t,function(t,e,n){((o=i(t,e,n))<s||o===Infinity&&r===Infinity)&&(r=t,s=o)});return r},h.shuffle=function(t){return h.sample(t,Infinity)},h.sample=function(t,e,n){if(null==e||n)return x(t)||(t=h.values(t)),t[h.random(t.length-1)];var i=x(t)?h.clone(t):h.values(t),o=w(i);e=Math.max(Math.min(e,o),0);for(var r=o-1,s=0;s<e;s++){var a=h.random(s,r),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,e)},h.sortBy=function(t,i,e){var o=0;return i=m(i,e),h.pluck(h.map(t,function(t,e,n){return{value:t,index:o++,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var k=function(s,e){return function(i,o,t){var r=e?[[],[]]:{};return o=m(o,t),h.each(i,function(t,e){var n=o(t,e,i);s(r,t,n)}),r}};h.groupBy=k(function(t,e,n){j(t,n)?t[n].push(e):t[n]=[e]}),h.indexBy=k(function(t,e,n){t[n]=e}),h.countBy=k(function(t,e,n){j(t,n)?t[n]++:t[n]=1});var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(t){return t?h.isArray(t)?l.call(t):h.isString(t)?t.match(P):x(t)?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:x(t)?t.length:h.keys(t).length},h.partition=k(function(t,e,n){t[n?0:1].push(e)},!0),h.first=h.head=h.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:h.initial(t,t.length-e)},h.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:h.rest(t,Math.max(0,t.length-e))},h.rest=h.tail=h.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,Boolean)};var S=function(t,e,n,i){for(var o=(i=i||[]).length,r=0,s=w(t);r<s;r++){var a=t[r];if(x(a)&&(h.isArray(a)||h.isArguments(a)))if(e)for(var l=0,c=a.length;l<c;)i[o++]=a[l++];else S(a,e,n,i),o=i.length;else n||(i[o++]=a)}return i};h.flatten=function(t,e){return S(t,e,!1)},h.without=y(function(t,e){return h.difference(t,e)}),h.uniq=h.unique=function(t,e,n,i){h.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=m(n,i));for(var o=[],r=[],s=0,a=w(t);s<a;s++){var l=t[s],c=n?n(l,s,t):l;e&&!n?(s&&r===c||o.push(l),r=c):n?h.contains(r,c)||(r.push(c),o.push(l)):h.contains(o,l)||o.push(l)}return o},h.union=y(function(t){return h.uniq(S(t,!0,!0))}),h.intersection=function(t){for(var e=[],n=arguments.length,i=0,o=w(t);i<o;i++){var r=t[i];if(!h.contains(e,r)){var s;for(s=1;s<n&&h.contains(arguments[s],r);s++);s===n&&e.push(r)}}return e},h.difference=y(function(t,e){return e=S(e,!0,!0),h.filter(t,function(t){return!h.contains(e,t)})}),h.unzip=function(t){for(var e=t&&h.max(t,w).length||0,n=Array(e),i=0;i<e;i++)n[i]=h.pluck(t,i);return n},h.zip=y(h.unzip),h.object=function(t,e){for(var n={},i=0,o=w(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n};var I=function(r){return function(t,e,n){e=m(e,n);for(var i=w(t),o=0<r?0:i-1;0<=o&&o<i;o+=r)if(e(t[o],o,t))return o;return-1}};h.findIndex=I(1),h.findLastIndex=I(-1),h.sortedIndex=function(t,e,n,i){for(var o=(n=m(n,i,1))(e),r=0,s=w(t);r<s;){var a=Math.floor((r+s)/2);n(t[a])<o?r=a+1:s=a}return r};var E=function(r,s,a){return function(t,e,n){var i=0,o=w(t);if("number"==typeof n)0<r?i=0<=n?n:Math.max(n+o,i):o=0<=n?Math.min(n+1,o):n+o+1;else if(a&&n&&o)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(l.call(t,i,o),h.isNaN))?n+i:-1;for(n=0<r?i:o-1;0<=n&&n<o;n+=r)if(t[n]===e)return n;return-1}};h.indexOf=E(1,h.findIndex,h.sortedIndex),h.lastIndexOf=E(-1,h.findLastIndex),h.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),r=0;r<i;r++,t+=n)o[r]=t;return o},h.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,o=t.length;i<o;)n.push(l.call(t,i,i+=e));return n};var O=function(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var r=g(t.prototype),s=t.apply(r,o);return h.isObject(s)?s:r};h.bind=y(function(e,n,i){if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");var o=y(function(t){return O(e,o,n,this,i.concat(t))});return o}),h.partial=y(function(o,r){var s=h.partial.placeholder,a=function(){for(var t=0,e=r.length,n=Array(e),i=0;i<e;i++)n[i]=r[i]===s?arguments[t++]:r[i];for(;t<arguments.length;)n.push(arguments[t++]);return O(o,a,this,this,n)};return a}),(h.partial.placeholder=h).bindAll=y(function(t,e){var n=(e=S(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=h.bind(t[i],t)}}),h.memoize=function(i,o){var r=function(t){var e=r.cache,n=""+(o?o.apply(this,arguments):t);return j(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return r.cache={},r},h.delay=y(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(n,i,o){var r,s,a,l,c=0;o||(o={});var u=function(){c=!1===o.leading?0:h.now(),r=null,l=n.apply(s,a),r||(s=a=null)},t=function(){var t=h.now();c||!1!==o.leading||(c=t);var e=i-(t-c);return s=this,a=arguments,e<=0||i<e?(r&&(clearTimeout(r),r=null),c=t,l=n.apply(s,a),r||(s=a=null)):r||!1===o.trailing||(r=setTimeout(u,e)),l};return t.cancel=function(){clearTimeout(r),c=0,r=s=a=null},t},h.debounce=function(n,i,o){var r,s,a=function(t,e){r=null,e&&(s=n.apply(t,e))},t=y(function(t){if(r&&clearTimeout(r),o){var e=!r;r=setTimeout(a,i),e&&(s=n.apply(this,t))}else r=h.delay(a,i,this,t);return s});return t.cancel=function(){clearTimeout(r),r=null},t},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},h.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},h.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},h.once=h.partial(h.before,2),h.restArguments=y;var F=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],M=function(t,e){var n=A.length,i=t.constructor,o=h.isFunction(i)&&i.prototype||s,r="constructor";for(j(t,r)&&!h.contains(e,r)&&e.push(r);n--;)(r=A[n])in t&&t[r]!==o[r]&&!h.contains(e,r)&&e.push(r)};h.keys=function(t){if(!h.isObject(t))return[];if(a)return a(t);var e=[];for(var n in t)j(t,n)&&e.push(n);return F&&M(t,e),e},h.allKeys=function(t){if(!h.isObject(t))return[];var e=[];for(var n in t)e.push(n);return F&&M(t,e),e},h.values=function(t){for(var e=h.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i},h.mapObject=function(t,e,n){e=m(e,n);for(var i=h.keys(t),o=i.length,r={},s=0;s<o;s++){var a=i[s];r[a]=e(t[a],a,t)}return r},h.pairs=function(t){for(var e=h.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i},h.invert=function(t){for(var e={},n=h.keys(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e},h.functions=h.methods=function(t){var e=[];for(var n in t)h.isFunction(t[n])&&e.push(n);return e.sort()};var L=function(l,c){return function(t){var e=arguments.length;if(c&&(t=Object(t)),e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],o=l(i),r=o.length,s=0;s<r;s++){var a=o[s];c&&void 0!==t[a]||(t[a]=i[a])}return t}};h.extend=L(h.allKeys),h.extendOwn=h.assign=L(h.keys),h.findKey=function(t,e,n){e=m(e,n);for(var i,o=h.keys(t),r=0,s=o.length;r<s;r++)if(e(t[i=o[r]],i,t))return i};var N,B,H=function(t,e,n){return e in n};h.pick=y(function(t,e){var n={},i=e[0];if(null==t)return n;h.isFunction(i)?(1<e.length&&(i=v(i,e[1])),e=h.allKeys(t)):(i=H,e=S(e,!1,!1),t=Object(t));for(var o=0,r=e.length;o<r;o++){var s=e[o],a=t[s];i(a,s,t)&&(n[s]=a)}return n}),h.omit=y(function(t,n){var e,i=n[0];return h.isFunction(i)?(i=h.negate(i),1<n.length&&(e=n[1])):(n=h.map(S(n,!1,!1),String),i=function(t,e){return!h.contains(n,e)}),h.pick(t,i,e)}),h.defaults=L(h.allKeys,!0),h.create=function(t,e){var n=g(t);return e&&h.extendOwn(n,e),n},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t},h.isMatch=function(t,e){var n=h.keys(e),i=n.length;if(null==t)return!i;for(var o=Object(t),r=0;r<i;r++){var s=n[r];if(e[s]!==o[s]||!(s in o))return!1}return!0},N=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&B(t,e,n,i)},B=function(t,e,n,i){t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var o=p.call(t);if(o!==p.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return d.valueOf.call(t)===d.valueOf.call(e)}var r="[object Array]"===o;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(h.isFunction(s)&&s instanceof s&&h.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),r){if((l=t.length)!==e.length)return!1;for(;l--;)if(!N(t[l],e[l],n,i))return!1}else{var c,u=h.keys(t);if(l=u.length,h.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!j(e,c)||!N(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0},h.isEqual=function(t,e){return N(t,e)},h.isEmpty=function(t){return null==t||(x(t)&&(h.isArray(t)||h.isString(t)||h.isArguments(t))?0===t.length:0===h.keys(t).length)},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=n||function(t){return"[object Array]"===p.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){h["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return j(t,"callee")});var R=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof R&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return!h.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&isNaN(t)},h.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===p.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){if(!h.isArray(e))return j(t,e);for(var n=e.length,i=0;i<n;i++){var o=e[i];if(null==t||!r.call(t,o))return!1;t=t[o]}return!!n},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(e){return h.isArray(e)?function(t){return b(t,e)}:_(e)},h.propertyOf=function(e){return null==e?function(){}:function(t){return h.isArray(t)?b(e,t):e[t]}},h.matcher=h.matches=function(e){return e=h.extendOwn({},e),function(t){return h.isMatch(t,e)}},h.times=function(t,e,n){var i=Array(Math.max(0,t));e=v(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=h.invert(D),U=function(e){var n=function(t){return e[t]},t="(?:"+h.keys(e).join("|")+")",i=RegExp(t),o=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,n):t}};h.escape=U(D),h.unescape=U(V),h.result=function(t,e,n){h.isArray(e)||(e=[e]);var i=e.length;if(!i)return h.isFunction(n)?n.call(t):n;for(var o=0;o<i;o++){var r=null==t?void 0:t[e[o]];void 0===r&&(r=n,o=i),t=h.isFunction(r)?r.call(t):r}return t};var z=0;h.uniqueId=function(t){var e=++z+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,W=function(t){return"\\"+J[t]};h.template=function(r,t,e){!t&&e&&(t=e),t=h.defaults({},t,h.templateSettings);var n,i=RegExp([(t.escape||$).source,(t.interpolate||$).source,(t.evaluate||$).source].join("|")+"|$","g"),s=0,a="__p+='";r.replace(i,function(t,e,n,i,o){return a+=r.slice(s,o).replace(q,W),s=o+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(t.variable||"obj","_",a)}catch(c){throw c.source=a,c}var o=function(t){return n.call(this,t,h)},l=t.variable||"obj";return o.source="function("+l+"){\n"+a+"}",o},h.chain=function(t){var e=h(t);return e._chain=!0,e};var K=function(t,e){return t._chain?h(e).chain():e};h.mixin=function(n){return h.each(h.functions(n),function(t){var e=h[t]=n[t];h.prototype[t]=function(){var t=[this._wrapped];return o.apply(t,arguments),K(this,e.apply(h,t))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=i[e];h.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],K(this,t)}}),h.each(["concat","join","slice"],function(t){var e=i[t];h.prototype[t]=function(){return K(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}(),_.mixin({isFalsy:function(t){return 0==t||""==t||null==t||"undefined"==t||t==undefined||t==NaN||"null"==t||"false"==t||0==t||"0"==t},isTruthy:function(t){return!this.isFalsy(t)}}),function(){this.JST||(this.JST={}),this.JST["javascripts/standalone/lightbox/templates/add_to_cart/_product_option"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="selection_wrapper">\n\t<label>',label,'</label>\n\t<select class="dropdown_list" id="',label,'" field="',fieldName,'"></select>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["javascripts/standalone/lightbox/templates/reviews/_reviews"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push(""),gon.display_options.reviewOptions&&gon.display_options.reviewOptions.lightboxReviews&&isReviewFeatured&&__p.push('\n\t<div class="review_container">\n\t\t<div class="review_center">\n\t\t\t<div class="star_holder star_',review.score,'"></div>\n\t\t\t<div class="reviewer_title">',review.title,'</div>\n\t\t\t<div class="review_text">\n\t\t\t\t<p>',review.content,'</p>\n\t\t\t</div>\n\t\t\t<div class="reviewer_name">',review.user_name,"</div>\n\t\t</div>\t\n\t</div>\n"),__p.push("\n");return __p.join("")}}.call(this),document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(t,e,n){var i;if("string"==typeof t?(0===t.indexOf("#")&&(t=t.slice(1)),i=vjs.el(t)):i=t,!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||new vjs.Player(i,e,n)},videojs=vjs;window.videojs=window.vjs=vjs,vjs.CDN_VERSION="4.3",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.players={},vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(t){var e,n;for(var i in e=(t=t||{}).init||t.init||this.prototype.init||this.prototype.init||function(){},(n=function(){e.apply(this,arguments)}).prototype=vjs.obj.create(this.prototype),(n.prototype.constructor=n).extend=vjs.CoreObject.extend,n.create=vjs.CoreObject.create,t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);return n},vjs.CoreObject.create=function(){var t=vjs.obj.create(this.prototype);return this.apply(t,arguments),t},vjs.on=function(r,t,e){var s=vjs.getData(r);s.handlers||(s.handlers={}),s.handlers[t]||(s.handlers[t]=[]),e.guid||(e.guid=vjs.guid++),s.handlers[t].push(e),s.dispatcher||(s.disabled=!1,s.dispatcher=function(t){if(!s.disabled){t=vjs.fixEvent(t);var e=s.handlers[t.type];if(e)for(var n=e.slice(0),i=0,o=n.length;i<o&&!t.isImmediatePropagationStopped();i++)n[i].call(r,t)}}),1==s.handlers[t].length&&(document.addEventListener?r.addEventListener(t,s.dispatcher,!1):document.attachEvent&&r.attachEvent("on"+t,s.dispatcher))},vjs.off=function(e,t,n){if(vjs.hasData(e)){var i=vjs.getData(e);if(i.handlers){var o=function(t){i.handlers[t]=[],vjs.cleanUpEvents(e,t)};if(t){var r=i.handlers[t];if(r)if(n){if(n.guid)for(var s=0;s<r.length;s++)r[s].guid===n.guid&&r.splice(s--,1);vjs.cleanUpEvents(e,t)}else o(t)}else for(var a in i.handlers)o(a)}}},vjs.cleanUpEvents=function(t,e){var n=vjs.getData(t);0===n.handlers[e].length&&(delete n.handlers[e],document.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):document.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),vjs.isEmpty(n.handlers)&&(delete n.handlers,delete n.dispatcher,delete n.disabled),vjs.isEmpty(n)&&vjs.removeData(t)},vjs.fixEvent=function(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||window.event;for(var o in t={},i)"layerX"!==o&&"layerY"!==o&&(t[o]=i[o]);if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,t.isDefaultPrevented=e},t.isDefaultPrevented=n,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!=t.clientX){var r=document.documentElement,s=document.body;t.pageX=t.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},vjs.trigger=function(t,e){var n=vjs.hasData(t)?vjs.getData(t):{},i=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=vjs.fixEvent(e),n.dispatcher&&n.dispatcher.call(t,e),i&&!e.isPropagationStopped()&&!1!==e.bubbles)vjs.trigger(i,e);else if(!i&&!e.isDefaultPrevented()){var o=vjs.getData(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.isDefaultPrevented()},vjs.one=function(t,e,n){var i=function(){vjs.off(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||vjs.guid++,vjs.on(t,e,i)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(t,e){var n,i;for(i in n=document.createElement(t||"div"),e)hasOwnProp.call(e,i)&&(-1!==i.indexOf("aria-")||"role"==i?n.setAttribute(i,e[i]):n[i]=e[i]);return n},vjs.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(t){function e(){}return e.prototype=t,new e},vjs.obj.each=function(t,e,n){for(var i in t)hasOwnProp.call(t,i)&&e.call(n||this,i,t[i])},vjs.obj.merge=function(t,e){if(!e)return t;for(var n in e)hasOwnProp.call(e,n)&&(t[n]=e[n]);return t},vjs.obj.deepMerge=function(t,e){var n,i,o;for(n in t=vjs.obj.copy(t),e)hasOwnProp.call(e,n)&&(i=t[n],o=e[n],vjs.obj.isPlain(i)&&vjs.obj.isPlain(o)?t[n]=vjs.obj.deepMerge(i,o):t[n]=e[n]);return t},vjs.obj.copy=function(t){return vjs.obj.merge({},t)},vjs.obj.isPlain=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},vjs.bind=function(t,e,n){if(!t)return!1;e.guid||(e.guid=vjs.guid++);var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(t){var e=t[vjs.expando];return e||(e=t[vjs.expando]=vjs.guid++,vjs.cache[e]={}),vjs.cache[e]},vjs.hasData=function(t){var e=t[vjs.expando];return!(!e||vjs.isEmpty(vjs.cache[e]))},vjs.removeData=function(t){var e=t[vjs.expando];if(e){delete vjs.cache[e];try{delete t[vjs.expando]}catch(n){t.removeAttribute?t.removeAttribute(vjs.expando):t[vjs.expando]=null}}},vjs.isEmpty=function(t){for(var e in t)if(null!==t[e])return!1;return!0},vjs.addClass=function(t,e){-1==(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className=""===t.className?e:t.className+" "+e)},vjs.removeClass=function(t,e){var n,i;if(-1!=t.className.indexOf(e)){for(i=(n=t.className.split(" ")).length-1;0<=i;i--)n[i]===e&&n.splice(i,1);t.className=n.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var t=vjs.USER_AGENT.match(/OS (\d+)_/i);if(t&&t[1])return t[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var t,e,n=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(t=n[1]&&parseFloat(n[1]),e=n[2]&&parseFloat(n[2]),t&&e?parseFloat(n[1]+"."+n[2]):t||null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.getAttributeValues=function(t){var e,n,i,o,r;if(e={},n=",autoplay,controls,loop,muted,default,",t&&t.attributes&&0<t.attributes.length)for(var s=(i=t.attributes).length-1;0<=s;s--)o=i[s].name,r=i[s].value,"boolean"!=typeof t[o]&&-1===n.indexOf(","+o+",")||(r=null!==r),e[o]=r;return e},vjs.getComputedDimension=function(t,e){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(n=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),n},vjs.insertFirst=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},vjs.support={},vjs.el=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},vjs.formatTime=function(t,e){e=e||t;var n=Math.floor(t%60),i=Math.floor(t/60%60),o=Math.floor(t/3600),r=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===Infinity)&&(o=i=n="-"),(o=0<o||0<s?o+":":"")+(i=((o||10<=r)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},vjs.createTimeRange=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},vjs.get=function(t,e,n){var i,o;"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")}),o=new XMLHttpRequest;try{o.open("GET",t)}catch(r){n(r)}i=0===t.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===t.indexOf("http"),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||i&&0===o.status?e(o.responseText):n&&n())};try{o.send()}catch(r){n&&n(r)}},vjs.setLocalStorage=function(t,e){try{var n=window.localStorage||!1;if(!n)return;n[t]=e}catch(i){22==i.code||1014==i.code?vjs.log("LocalStorage Full (VideoJS)",i):18==i.code?vjs.log("LocalStorage not allowed (VideoJS)",i):vjs.log("LocalStorage Error (VideoJS)",i)}},vjs.getAbsoluteURL=function(t){return t.match(/^https?:\/\//)||(t=vjs.createEl("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},vjs.log=function(){vjs.log.history=vjs.log.history||[],vjs.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},vjs.findPosition=function(t){var e,n,i,o,r,s,a,l;return t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),e?(n=document.documentElement,i=document.body,o=n.clientLeft||i.clientLeft||0,r=window.pageXOffset||i.scrollLeft,s=e.left+r-o,a=n.clientTop||i.clientTop||0,l=window.pageYOffset||i.scrollTop,{left:s,top:e.top+l-a}):{left:0,top:0}},vjs.Component=vjs.CoreObject.extend({init:function(t,e,n){this.player_=t,this.options_=vjs.obj.copy(this.options_),e=this.options(e),this.id_=e.id||(e.el&&e.el.id?e.el.id:t.id()+"_component_"+vjs.guid++),this.name_=e.name||null,this.el_=e.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(n)}}),vjs.Component.prototype.dispose=function(){if(this.trigger("dispose"),this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(t){return t===undefined?this.options_:this.options_=vjs.obj.deepMerge(this.options_,t)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(t,e){return vjs.createEl(t,e)},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(t){return this.childIndex_[t]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(t){return this.childNameIndex_[t]},vjs.Component.prototype.addChild=function(t,e){var n,i,o;return"string"==typeof t?(o=t,i=(e=e||{}).componentClass||vjs.capitalize(o),e.name=o,n=new window.videojs[i](this.player_||this,e)):n=t,this.children_.push(n),"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(o=o||n.name&&n.name())&&(this.childNameIndex_[o]=n),"function"==typeof n.el&&n.el()&&this.contentEl().appendChild(n.el()),n},vjs.Component.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id]=null,this.childNameIndex_[t.name]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},vjs.Component.prototype.initChildren=function(){var t=this.options_;if(t&&t.children){var i=this;vjs.obj.each(t.children,function(t,e){if(!1!==e){var n=function(){i[t]=i.addChild(t,e)};e.loadEvent||n()}})}},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(t,e){return vjs.on(this.el_,t,vjs.bind(this,e)),
this},vjs.Component.prototype.off=function(t,e){return vjs.off(this.el_,t,e),this},vjs.Component.prototype.one=function(t,e){return vjs.one(this.el_,t,vjs.bind(this,e)),this},vjs.Component.prototype.trigger=function(t,e){return vjs.trigger(this.el_,t,e),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(t){return t&&(this.isReady_?t.call(this):(this.readyQueue_===undefined&&(this.readyQueue_=[]),this.readyQueue_.push(t))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var t=this.readyQueue_;if(t&&0<t.length){for(var e=0,n=t.length;e<n;e++)t[e].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(t){return vjs.addClass(this.el_,t),this},vjs.Component.prototype.removeClass=function(t){return vjs.removeClass(this.el_,t),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(t,e){return this.dimension("width",t,e)},vjs.Component.prototype.height=function(t,e){return this.dimension("height",t,e)},vjs.Component.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},vjs.Component.prototype.dimension=function(t,e,n){if(e!==undefined)return-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var i=this.el_.style[t],o=i.indexOf("px");return-1!==o?parseInt(i.slice(0,o),10):parseInt(this.el_["offset"+vjs.capitalize(t)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var t,e,n;t=0,this.on("touchstart",function(){t=(new Date).getTime(),e=!0}),n=function(){e=!1},this.on("touchmove",n),this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",function(){!0===e&&(new Date).getTime()-t<250&&this.trigger("tap")})},vjs.Button=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e);var n=!1;this.on("touchstart",function(t){t.preventDefault(),n=!0}),this.on("touchmove",function(){n=!1});var i=this;this.on("touchend",function(t){n&&i.onClick(t),t.preventDefault()}),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(t,e){return e=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},e),vjs.Component.prototype.createEl.call(this,t,e)},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(t){32!=t.which&&13!=t.which||(t.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),t.on(this.playerEvent,vjs.bind(this,this.update)),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),t.ready(vjs.bind(this,this.update)),this.boundEvents={}}}),vjs.Slider.prototype.createEl=function(t,e){return(e=e||{}).className=e.className+" vjs-slider",e=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),vjs.Component.prototype.createEl.call(this,t,e)},vjs.Slider.prototype.onMouseDown=function(t){t.preventDefault(),vjs.blockTextSelection(),this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(t)},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var t,e=this.getPercent(),n=this.handle,i=this.bar;if(isNaN(e)&&(e=0),t=e,n){var o=this.el_.offsetWidth,r=n.el().offsetWidth,s=r?r/o:0,a=e*(1-s);t=a+s/2,n.el().style.left=vjs.round(100*a,2)+"%"}i.el().style.width=vjs.round(100*t,2)+"%"}},vjs.Slider.prototype.calculateDistance=function(t){var e,n,i,o,r,s,a,l,c;if(e=this.el_,n=vjs.findPosition(e),r=s=e.offsetWidth,a=this.handle,this.options_.vertical){if(o=n.top,c=t.changedTouches?t.changedTouches[0].pageY:t.pageY,a){var u=a.el().offsetHeight;o+=u/2,s-=u}return Math.max(0,Math.min(1,(o-c+s)/s))}if(i=n.left,l=t.changedTouches?t.changedTouches[0].pageX:t.pageX,a){var d=a.el().offsetWidth;i+=d/2,r-=d}return Math.max(0,Math.min(1,(l-i)/r))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(t){37==t.which?(t.preventDefault(),this.stepBack()):39==t.which&&(t.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(t,e){return(e=e||{}).className=e.className+" vjs-slider-handle",e=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},e),vjs.Component.prototype.createEl.call(this,"div",e)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(t){this.addChild(t),t.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var t=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(t,{className:"vjs-menu-content"});var e=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),vjs.on(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},vjs.MenuItem=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.selected(e.selected)}}),vjs.MenuItem.prototype.createEl=function(t,e){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},e))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(t){t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_);if(this.options().title&&t.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),this.items=this.createItems(),this.items)for(var e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(t){t.preventDefault(),32==t.which||13==t.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==t.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&0<this.items.length&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.Player=vjs.Component.extend({init:function(t,e,n){this.tag=t,e=vjs.obj.merge(this.getTagSettings(t),e),this.cache_={},this.poster_=e.poster,this.controls_=e.controls,t.controls=!1,vjs.Component.call(this,this,e,n),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.one("play",function(t){var e={type:"firstplay",target:this.el_};vjs.trigger(this.el_,e)||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("error",this.onError),this.on("fullscreenchange",this.onFullscreenChange),vjs.players[this.id_]=this,e.plugins&&vjs.obj.each(e.plugins,function(t,e){this[t](e)},this),this.listenForUserActivity()}}),vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.stopTrackingProgress(),this.stopTrackingCurrentTime(),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(t){var e,n,i,o,r,s={sources:[],tracks:[]};if(vjs.obj.merge(s,vjs.getAttributeValues(t)),t.hasChildNodes())for(o=0,r=(e=t.childNodes).length;o<r;o++)"source"===(i=(n=e[o]).nodeName.toLowerCase())?s.sources.push(vjs.getAttributeValues(n)):"track"===i&&s.tracks.push(vjs.getAttributeValues(n));return s},vjs.Player.prototype.createEl=function(){var t=this.el_=vjs.Component.prototype.createEl.call(this,"div"),e=this.tag;if(e.removeAttribute("width"),e.removeAttribute("height"),e.hasChildNodes()){var n,i,o,r,s;for(i=(n=e.childNodes).length,s=[];i--;)"track"===(r=n[i]).nodeName.toLowerCase()&&s.push(r);for(o=0;o<s.length;o++)e.removeChild(s[o])}return e.id=e.id||"vjs_video_"+vjs.guid++,t.id=e.id,t.className=e.className,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),e.parentNode&&e.parentNode.insertBefore(t,e),vjs.insertFirst(e,t),t},vjs.Player.prototype.loadTech=function(t,e){this.tech?this.unloadTech():"Html5"!==t&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=t,this.isReady_=!1;var n=function(){this.player_.triggerReady(),this.features.progressEvents||this.player_.manualProgressOn(),this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()},i=vjs.obj.merge({source:e,parentEl:this.el_},this.options_[t.toLowerCase()]);e&&(e.src==this.cache_.src&&0<this.cache_.currentTime&&(i.startTime=this.cache_.currentTime),this.cache_.src=e.src),this.tech=new window.videojs[t](this,i),this.tech.ready(n)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress(),this.tech.one("progress",function(){this.features.progressEvents=!0,this.player_.manualProgressOff()})},vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){if(!this||!this.buffered())return!1;this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)},vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0,this.player_.manualTimeUpdatesOff()})},vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)},vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)},vjs.Player.prototype.onLoadStart,vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())},vjs.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError=function(t){vjs.log("Video Error",t)},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(t,e){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[t](e)});else try{this.tech[t](e)}catch(n){throw vjs.log(n),n}},vjs.Player.prototype.techGet=function(t){if(this.tech&&this.tech.isReady_)try{return this.tech[t]()}catch(e){throw this.tech[t]===undefined?vjs.log("Video.js: "+t+" method not defined for "+this.techName+" playback technology.",e):"TypeError"==e.name?(vjs.log("Video.js: "+t+" unavailable on "+this.techName+" playback technology element.",e),this.tech.isReady_=!1):vjs.log(e),e}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return!1!==this.techGet("paused")},vjs.Player.prototype.currentTime=function(t){return t!==undefined?(this.cache_.lastSetCurrentTime=t,this.techCall("setCurrentTime",t),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(t){return t!==undefined?(this.cache_.duration=parseFloat(t),this):(this.cache_.duration===undefined&&this.onDurationChange(),this.cache_.duration)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){if(!this.techGet("buffered"))return!1;var t=this.techGet("buffered"),e=0,n=t.length-1,i=this.cache_.bufferEnd=this.cache_.bufferEnd||0;return t&&0<=n&&t.end(n)!==i&&(i=t.end(n),this.cache_.bufferEnd=i),vjs.createTimeRange(e,i)},vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},vjs.Player.prototype.volume=function(t){var e;return t!==undefined?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall("setVolume",e),vjs.setLocalStorage("volume",e),this):(e=parseFloat(this.techGet("volume")),isNaN(e)?1:e)},vjs.Player.prototype.muted=function(t){return t!==undefined?(this.techCall("setMuted",t),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.requestFullScreen=function(){var e=vjs.support.requestFullScreen;return this.isFullScreen=!0,e?(vjs.on(document,e.eventName,vjs.bind(this,function(t){this.isFullScreen=document[e.isFullScreen],!1===this.isFullScreen&&vjs.off(document,e.eventName,arguments.callee),this.trigger("fullscreenchange")})),this.el_[e.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){var t=vjs.support.requestFullScreen;return this.isFullScreen=!1,t?document[t.cancelFn]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(t){for(var e=0,n=this.options_.techOrder;e<n.length;e++){var i=vjs.capitalize(n[e]),o=window.videojs[i];if(o.isSupported())for(var r=0,s=t;r<s.length;r++){var a=s[r];if(o.canPlaySource(a))return{source:a,tech:i}}}return!1},vjs.Player.prototype.src=function(t){if(t instanceof Array){var e,n=this.selectSource(t);n?(t=n.source,(e=n.tech)==this.techName?this.src(t):this.loadTech(e,t)):this.el_.appendChild(vjs.createEl("p",{innerHTML:this.options().notSupportedMessage}))}else t instanceof Object?window.videojs[this.techName].canPlaySource(t)?this.src(t.src):this.src([t]):(this.cache_.src=t,this.isReady_?(this.techCall("src",t),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(t)}));return this},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.preload=function(t){return t!==undefined?(this.techCall("setPreload",t),this.options_.preload=t,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(t){return t!==undefined?(this.techCall("setAutoplay",t),this.options_.autoplay=t,this):this.techGet("autoplay",t)},vjs.Player.prototype.loop=function(t){return t!==undefined?(this.techCall("setLoop",t),this.options_.loop=t,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(t){return t!==undefined?(this.poster_=t,this):this.poster_},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(t){return t!==undefined?(t=!!t,this.controls_!==t&&((this.controls_=t)?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(t){return t!==undefined?(t=!!t,this.usingNativeControls_!==t&&((this.usingNativeControls_=t)?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error=function(){return this.techGet("error")},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(t){return t!==undefined?((t=!!t)!==this.userActive_&&((this.userActive_=t)?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var t,e,n,i,o,r;t=this.reportUserActivity,e=function(){t(),clearInterval(n),n=setInterval(vjs.bind(this,t),250)},i=function(){t(),clearInterval(n)},this.on("mousedown",e),this.on("mousemove",t),this.on("mouseup",i),this.on("keydown",t),this.on("keyup",t),this.on("touchstart",e),this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i),o=setInterval(vjs.bind(this,function(){this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),clearTimeout(r),r=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),2e3))}),250),this.on("dispose",function(){clearInterval(o),clearTimeout(r)})},function(){var t,e,n;e={},(n=document.createElement("div")).cancelFullscreen!==undefined?(e.requestFn="requestFullscreen",e.cancelFn="exitFullscreen",e.eventName="fullscreenchange",e.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(t="moz",e.isFullScreen=t+"FullScreen"):(t="webkit",e.isFullScreen=t+"IsFullScreen"),n[t+"RequestFullScreen"]&&(e.requestFn=t+"RequestFullScreen",e.cancelFn=t+"CancelFullScreen"),e.eventName=t+"fullscreenchange"),document[e.cancelFn]&&(vjs.support.requestFullScreen=e)}(),vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.PlayToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.on("play",vjs.bind(this,this.onPlay)),t.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),this.el_.children[0].children[0].innerHTML="Pause"},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML="Play"},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),t.appendChild(vjs.createEl("div").appendChild(this.content)),t},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(t,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),t.appendChild(vjs.createEl("div").appendChild(this.content)),t},vjs.DurationDisplay.prototype.updateContent=function(){var t=this.player_.duration();t&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(t))},vjs.TimeDivider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),t.appendChild(vjs.createEl("div").appendChild(this.content)),t},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")},vjs.ProgressControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(t,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){var t;if("Flash"===this.player_.techName&&this.player_.seeking()){var e=this.player_.getCache();t=e.lastSetCurrentTime?e.lastSetCurrentTime:this.player_.currentTime()}else t=this.player_.currentTime();return t/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(t){vjs.Slider.prototype.onMouseDown.call(this,t),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e==this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},vjs.SeekBar.prototype.onMouseUp=function(t){vjs.Slider.prototype.onMouseUp.call(this,t),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},vjs.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=vjs.round(100*this.player_.bufferedPercent(),2)+"%")},vjs.PlayProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},vjs.SeekHandle=vjs.SliderHandle.extend(),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})},vjs.VolumeControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),t.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),t.ready(vjs.bind(this,this.updateARIAAttributes)),setTimeout(vjs.bind(this,this.update),0)}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(t){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(t))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.on("volumechange",vjs.bind(this,this.update)),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){
t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(!this.player_.muted())},vjs.MuteToggle.prototype.update=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2),this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Mute");for(var n=0;n<4;n++)vjs.removeClass(this.el_,"vjs-vol-"+n);vjs.addClass(this.el_,"vjs-vol-"+e)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),t.on("volumechange",vjs.bind(this,this.update)),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_,{contentElType:"div"}),e=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return t.addChild(e),t},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PosterImage=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.poster()&&t.controls()||this.hide(),t.on("play",vjs.bind(this,this.hide))}}),vjs.PosterImage.prototype.createEl=function(){var t=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1}),e=this.player_.poster();return e&&("backgroundSize"in t.style?t.style.backgroundImage='url("'+e+'")':t.appendChild(vjs.createEl("img",{src:e}))),t},vjs.PosterImage.prototype.onClick=function(){this.player().controls()&&this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("canplay",vjs.bind(this,this.hide)),t.on("canplaythrough",vjs.bind(this,this.hide)),t.on("playing",vjs.bind(this,this.hide)),t.on("seeked",vjs.bind(this,this.hide)),t.on("seeking",vjs.bind(this,this.show)),t.on("seeked",vjs.bind(this,this.hide)),t.on("error",vjs.bind(this,this.show)),t.on("waiting",vjs.bind(this,this.show))}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.MediaTechController=vjs.Component.extend({init:function(t,e,n){vjs.Component.call(this,t,e,n),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var t,e,n;t=(e=this).player();var i=function(){t.controls()&&!t.usingNativeControls()&&e.addControlsListeners()};n=vjs.bind(e,e.removeControlsListeners),this.ready(i),t.on("controlsenabled",i),t.on("controlsdisabled",n)},vjs.MediaTechController.prototype.addControlsListeners=function(){var t,e;this.on("mousedown",this.onClick),this.on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),e=this.player_.userActive()}),t=function(t){t.stopPropagation(),e&&this.player_.reportUserActivity()},this.on("touchmove",t),this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",t),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(t){0===t.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1},vjs.media={},vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");for(var i=vjs.media.ApiMethods.length-1;0<=i;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(t,e,n){this.features.volumeControl=vjs.Html5.canControlVolume(),this.features.movingMediaElementInDOM=!vjs.IS_IOS,this.features.fullscreenResize=!0,vjs.MediaTechController.call(this,t,e,n);var i=e.source;i&&this.el_.currentSrc===i.src&&0<this.el_.networkState?t.trigger("loadstart"):i&&(this.el_.src=i.src),vjs.TOUCH_ENABLED&&!1!==t.options().nativeControlsForTouch&&this.useNativeControls(),t.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.setupTriggers(),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var t,e=this.player_,n=e.tag;n&&!1!==this.features.movingMediaElementInDOM||(n?(t=n.cloneNode(!1),vjs.Html5.disposeMediaElement(n),n=t,e.tag=null):n=vjs.createEl("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),n.player=e,vjs.insertFirst(n,e.el()));for(var i=["autoplay","preload","loop","muted"],o=i.length-1;0<=o;o--){var r=i[o];null!==e.options_[r]&&(n[r]=e.options_[r])}return n},vjs.Html5.prototype.setupTriggers=function(){for(var t=vjs.Html5.Events.length-1;0<=t;t--)vjs.on(this.el_,vjs.Html5.Events[t],vjs.bind(this.player_,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(t){this.trigger(t),t.stopPropagation()},vjs.Html5.prototype.useNativeControls=function(){var t,e,n,i,o;e=(t=this).player(),t.setControls(e.controls()),n=function(){t.setControls(!0)},i=function(){t.setControls(!1)},e.on("controlsenabled",n),e.on("controlsdisabled",i),o=function(){e.off("controlsenabled",n),e.off("controlsdisabled",i)},t.on("dispose",o),e.on("usingcustomcontrols",o),e.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){vjs.log(e,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(t){this.el_.volume=t},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(t){this.el_.muted=t},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return!("function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))},vjs.Html5.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(t){this.el_.src=t},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(t){this.el_.preload=t},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(t){this.el_.autoplay=t},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(t){this.el_.controls=!!t},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(t){this.el_.loop=t},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.isSupported=function(){return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(t){try{return!!vjs.TEST_VID.canPlayType(t.type)}catch(e){return""}},vjs.Html5.canControlVolume=function(){var t=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=t/2+.1,t!==vjs.TEST_VID.volume},vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(t){if(t){for(t.player=null,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&t.load()}},vjs.IS_OLD_ANDROID&&(document.createElement("video").constructor.prototype.canPlayType=function(t){return t&&-1!=t.toLowerCase().indexOf("video/mp4")?"maybe":""}),vjs.Flash=vjs.MediaTechController.extend({init:function(t,e,n){vjs.MediaTechController.call(this,t,e,n);var i=e.source,o=e.parentEl,r=this.el_=vjs.createEl("div",{id:t.id()+"_temp_flash"}),s=t.id()+"_flash_api",a=t.options_,l=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:a.autoplay,preload:a.preload,loop:a.loop,muted:a.muted},e.flashVars),c=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},e.params),u=vjs.obj.merge({id:s,name:s,"class":"vjs-tech"},e.attributes);if(i)if(i.type&&vjs.Flash.isStreamingType(i.type)){var d=vjs.Flash.streamToParts(i.src);l.rtmpConnection=encodeURIComponent(d.connection),l.rtmpStream=encodeURIComponent(d.stream)}else l.src=encodeURIComponent(vjs.getAbsoluteURL(i.src));if(vjs.insertFirst(r,o),e.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)}),!0!==e.iFrameMode||vjs.IS_FIREFOX)vjs.Flash.embed(e.swf,r,l,c,u);else{var p=vjs.createEl("iframe",{id:s+"_iframe",name:s+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});l.readyFunction="ready",l.eventProxyFunction="events",l.errorEventProxyFunction="errors",vjs.on(p,"load",vjs.bind(this,function(){var i,t=p.contentWindow;(i=p.contentDocument?p.contentDocument:p.contentWindow.document).write(vjs.Flash.getEmbedCode(e.swf,l,c,u)),t.player=this.player_,t.ready=vjs.bind(this.player_,function(t){var e=i.getElementById(t),n=this.tech;n.el_=e,vjs.Flash.checkReady(n)}),t.events=vjs.bind(this.player_,function(t,e){var n=this;n&&"flash"===n.techName&&n.trigger(e)}),t.errors=vjs.bind(this.player_,function(t,e){vjs.log("Flash Error",e)})})),r.parentNode.replaceChild(p,r)}}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(t){if(vjs.Flash.isStreamingSrc(t)?(t=vjs.Flash.streamToParts(t),this.setRtmpConnection(t.connection),this.setRtmpStream(t.stream)):(t=vjs.getAbsoluteURL(t),this.el_.vjs_src(t)),this.player_.autoplay()){var e=this;setTimeout(function(){e.play()},0)}},vjs.Flash.prototype.currentSrc=function(){var t=this.el_.vjs_getProperty("currentSrc");if(null==t){var e=this.rtmpConnection(),n=this.rtmpStream();e&&n&&(t=vjs.Flash.streamFromParts(e,n))}return t},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1};var api=vjs.Flash.prototype,readWrite="rtmpConnection,rtmpStream,preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),createSetter=function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);api["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}},createGetter=function(t){api[t]=function(){return this.el_.vjs_getProperty(t)}};if(function(){var t;for(t=0;t<readWrite.length;t++)createGetter(readWrite[t]),createSetter(readWrite[t]);for(t=0;t<readOnly.length;t++)createGetter(readOnly[t])}(),vjs.Flash.isSupported=function(){return 10<=vjs.Flash.version()[0]},vjs.Flash.canPlaySource=function(t){var e;return t.type?(e=t.type.replace(/;.*/,"").toLowerCase())in vjs.Flash.formats||e in vjs.Flash.streamingFormats?"maybe":void 0:""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.onReady=function(t){var e=vjs.el(t),n=e.player||e.parentNode.player,i=n.tech;e.player=n,i.el_=e,vjs.Flash.checkReady(i)},vjs.Flash.checkReady=function(t){t.el().vjs_getProperty?t.triggerReady():setTimeout(function(){vjs.Flash.checkReady(t)},50)},vjs.Flash.onEvent=function(t,e){vjs.el(t).player.trigger(e)},vjs.Flash.onError=function(t,e){vjs.el(t).player.trigger("error"),vjs.log("Flash Error",e,t)},vjs.Flash.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return t.split(",")},vjs.Flash.embed=function(t,e,n,i,o){var r=vjs.Flash.getEmbedCode(t,n,i,o),s=vjs.createEl("div",{innerHTML:r}).childNodes[0],a=e.parentNode;e.parentNode.replaceChild(s,e);var l=a.childNodes[0];return setTimeout(function(){l.style.display="block"},1e3),s},vjs.Flash.getEmbedCode=function(t,e,n,i){var o='<object type="application/x-shockwave-flash"',r="",s="",a="";return e&&vjs.obj.each(e,function(t,e){r+=t+"="+e+"&amp;"}),n=vjs.obj.merge({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),vjs.obj.each(n,function(t,e){s+='<param name="'+t+'" value="'+e+'" />'}),i=vjs.obj.merge({data:t,width:"100%",height:"100%"},i),vjs.obj.each(i,function(t,e){a+=t+'="'+e+'" '}),o+a+">"+s+"</object>"},vjs.Flash.streamFromParts=function(t,e){return t+"&"+e},vjs.Flash.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var n,i=t.indexOf("&");return-1!==i?n=i+1:0===(i=n=t.lastIndexOf("/")+1)&&(i=n=t.length),e.connection=t.substring(0,i),e.stream=t.substring(n,t.length),e},vjs.Flash.isStreamingType=function(t){return t in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(t){return vjs.Flash.RTMP_RE.test(t)},vjs.MediaLoader=vjs.Component.extend({init:function(t,e,n){if(vjs.Component.call(this,t,e,n),t.options_.sources&&0!==t.options_.sources.length)t.src(t.options_.sources);else for(var i=0,o=t.options_.techOrder;i<o.length;i++){var r=vjs.capitalize(o[i]),s=window.videojs[r];if(s&&s.isSupported()){t.loadTech(r);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(t,e,n,i){var o=this.textTracks_=this.textTracks_||[];(i=i||{}).kind=t,i.label=e,i.language=n;var r=vjs.capitalize(t||"subtitles"),s=new window.videojs[r+"Track"](this,i);return o.push(s),s},vjs.Player.prototype.addTextTracks=function(t){for(var e,n=0;n<t.length;n++)e=t[n],this.addTextTrack(e.kind,e.label,e.language,e);return this},vjs.Player.prototype.showTextTrack=function(t,e){for(var n,i,o,r=this.textTracks_,s=0,a=r.length;s<a;s++)(n=r[s]).id()===t?(n.show(),i=n):e&&n.kind()==e&&0<n.mode()&&n.disable();return(o=i?i.kind():e||!1)&&this.trigger(o+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.id_=e.id||"vjs_"+e.kind+"_"+e.language+"_"+vjs.guid++,this.src_=e.src,this.dflt_=e["default"]||e.dflt,this.title_=e.title,this.language_=e.srclang,this.label_=e.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.player_.isFullScreen?this.el_.style.fontSize=screen.width/this.player_.width()*1.4*100+"%":this.el_.style.fontSize=""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(t){this.error=t,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(t){for(var e,n,i,o,r=t.split("\n"),s="",a=1,l=r.length;a<l;a++)if(s=vjs.trim(r[a])){for(-1==s.indexOf("-->")?(o=s,s=vjs.trim(r[++a])):o=this.cues_.length,e={id:o,index:this.cues_.length},n=s.split(" --> "),e.startTime=this.parseCueTime(n[0]),e.endTime=this.parseCueTime(n[1]),i=[];r[++a]&&(s=vjs.trim(r[a]));)i.push(s);e.text=i.join("<br/>"),this.cues_.push(e)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(t){var e,n,i,o,r,s=t.split(":"),a=0;return 3==s.length?(e=s[0],n=s[1],i=s[2]):(n=s[e=0],i=s[1]),o=(o=(i=i.split(/\s+/)).splice(0,1)[0]).split(/\.|,/),r=parseFloat(o[1]),o=o[0],a+=3600*parseFloat(e),a+=60*parseFloat(n),a+=parseFloat(o),r&&(a+=r/1e3),a},vjs.TextTrack.prototype.update=function(){if(0<this.cues_.length){var t=this.player_.currentTime();if(this.prevChange===undefined||t<this.prevChange||this.nextChange<=t){var e,n,i,o,r=this.cues_,s=this.player_.duration(),a=0,l=!1,c=[];for(t>=this.nextChange||this.nextChange===undefined?o=this.firstActiveIndex!==undefined?this.firstActiveIndex:0:(l=!0,o=this.lastActiveIndex!==undefined?this.lastActiveIndex:r.length-1);;){if((i=r[o]).endTime<=t)a=Math.max(a,i.endTime),i.active&&(i.active=!1);else if(t<i.startTime){if(s=Math.min(s,i.startTime),i.active&&(i.active=!1),!l)break}else l?(c.splice(0,0,i),n===undefined&&(n=o),e=o):(c.push(i),e===undefined&&(e=o),n=o),s=Math.min(s,i.endTime),a=Math.max(a,i.startTime),i.active=!0;if(l){if(0===o)break;o--}else{if(o===r.length-1)break;o++}}this.activeCues_=c,this.nextChange=s,this.prevChange=a,this.firstActiveIndex=e,this.lastActiveIndex=n,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var t=this.activeCues_,e="",n=0,i=t.length;n<i;n++)e+='<span class="vjs-tt-cue">'+t[n].text+"</span>";this.el_.innerHTML=e},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(t,e,n){vjs.Component.call(this,t,e,n),t.options_.tracks&&0<t.options_.tracks.length&&this.player_.addTextTracks(t.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(t,e){var n=this.track=e.track;e.label=n.label(),e.selected=n.dflt(),vjs.MenuItem.call(this,t,e),this.player_.on(n.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){this.selected(2==this.track.mode())},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(t,e){e.track={kind:function(){return e.kind},player:t,label:function(){return e.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,t,e),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var t,e=this.player_.textTracks(),n=0,i=e.length,o=!0;n<i;n++)(t=e[n]).kind()==this.track.kind()&&2==t.mode()&&(o=!1);this.selected(o)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var t,e=[];e.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var n=0;n<this.player_.textTracks().length;n++)(t=this.player_.textTracks()[n]).kind()===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}));return e},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(t,e,n){vjs.TextTrackButton.call(this,t,e,n),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(t,e,n){vjs.TextTrackButton.call(this,t,e,n),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(t,e,n){vjs.TextTrackButton.call(this,t,e,n),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var t,e=[],n=0;n<this.player_.textTracks().length;n++)(t=this.player_.textTracks()[n]).kind()===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}));return e},vjs.ChaptersButton.prototype.createMenu=function(){for(var t,e,n=this.player_.textTracks(),i=0,o=n.length,r=this.items=[];i<o;i++)if((t=n[i]).kind()==this.kind_&&t.dflt()){if(t.readyState()<2)return void(this.chaptersTrack=t).on("loaded",vjs.bind(this,this.createMenu));e=t;break}var s=this.menu=new vjs.Menu(this.player_);if(s.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),e){var a,l,c=e.cues_;for(i=0,o=c.length;i<o;i++)a=c[i],l=new vjs.ChaptersTrackMenuItem(this.player_,{track:e,cue:a}),r.push(l),s.addChild(l)}return 0<this.items.length&&this.show(),s},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(t,e){var n=this.track=e.track,i=this.cue=e.cue,o=t.currentTime();e.label=i.text,e.selected=i.startTime<=o&&o<i.endTime,vjs.MenuItem.call(this,t,e),n.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var t=this.cue,e=this.player_.currentTime();this.selected(t.startTime<=e&&e<t.endTime)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(t,e){var n,i,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&((i=walk(o,n))!==undefined?o[n]=i:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var t,e,n=document.getElementsByTagName("video");if(n&&0<n.length)for(var i=0,o=n.length;i<o;i++){if(!(e=n[i])||!e.getAttribute){vjs.autoSetupTimeout(1);break}e.player===undefined&&null!==(t=e.getAttribute("data-setup"))&&(t=vjs.JSON.parse(t||"{}"),videojs(e,t))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(t){setTimeout(vjs.autoSetup,t)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(t,e){vjs.Player.prototype[t]=e},function(){function s(t){return"string"==typeof t}function i(t){t=t.split(".");for(var e=lt,n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function o(){}function r(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function c(e,n,t){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function u(t,e,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:c).apply(null,arguments)}function t(t,e){var n,i=t.split("."),o=lt;i[0]in o||"undefined"==typeof o.execScript||o.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||void 0===e?o=o[n]&&o[n]!==Object.prototype[n]?o[n]:o[n]={}:o[n]=e}function e(t,r){function e(){}e.prototype=r.prototype,t.I=r.prototype,t.prototype=new e,(t.prototype.constructor=t).P=function(t,e,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return r.prototype[e].apply(t,i)}}function d(t,e){t:{for(var n=t.length,i=s(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){n=o;break t}n=-1}return n<0?null:s(t)?t.charAt(n):t[n]}function p(t){return Array.prototype.concat.apply([],arguments)}function h(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function n(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function f(t){var e,n=Lt;for(e in n)if(t.call(void 0,n[e],e,n))return e}function v(t){lt.setTimeout(function(){throw t},0)}function m(){var t=lt.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==ft.indexOf("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=u(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0===t||-1!=ft.indexOf("Trident")||-1!=ft.indexOf("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){lt.setTimeout(t,0)};var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).D;n.D=null,t()}},function(t){i.next={D:t},i=i.next,e.port2.postMessage(0)}}function y(){this.b=this.a=null}function g(){this.next=this.b=this.a=null}function _(t){Tt||j(),Pt||(Tt(),Pt=!0),St.add(t,void 0)}function j(){if(lt.Promise&&lt.Promise.resolve){var t=lt.Promise.resolve(void 0);Tt=function(){t.then(b)}}else Tt=function(){var t,e=b;!(t="function"!=r(lt.setImmediate))&&(t=lt.Window&&lt.Window.prototype)&&(t=-1==ft.indexOf("Edge")&&lt.Window.prototype.setImmediate==lt.setImmediate),t?(vt||(vt=m()),vt(e)):lt.setImmediate(e)}}function b(){for(var t;t=St.remove();){try{t.a.call(t.b)}catch(n){v(n)}var e=kt;e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function C(){this.c=this.c,this.f=this.f}function w(t,e){var n,i,o=document;if((o=e||o).querySelectorAll&&o.querySelector&&t)return o.querySelectorAll(t?"."+t:"");if(t&&o.getElementsByClassName){var r=o.getElementsByClassName(t)
;return r}if(r=o.getElementsByTagName("*"),t){var s={};for(n=i=0;o=r[n];n++){var a,l=o.className;(a="function"==typeof l.split)&&(a=0<=pt(l.split(/\s+/),t)),a&&(s[i++]=o)}return s.length=i,s}return r}function x(t,e){for(;t;){if(e(t))return t;t=t.parentNode,0}return null}function T(t){C.call(this),this.l=1,this.g=[],this.h=0,this.a=[],this.b={},this.m=!!t}function k(t,e,n){var i=$t;if(t=i.b[t]){var o=i.a;(t=d(t,function(t){return o[t+1]==e&&o[t+2]==n}))&&i.C(t)}}function P(t,e,n){_(function(){t.apply(e,n)})}function S(t){var e=t.match(Et);t=e[1];var n=e[2],i=e[3];e=e[4];var o="";return t&&(o+=t+":"),i&&(o+="//",n&&(o+=n+"@"),o+=i,e&&(o+=":"+e)),o}function I(t,e,n){if("array"==r(e))for(var i=0;i<e.length;i++)I(t,String(e[i]),n);else null!=e&&n.push(t+(""===e?"":"="+encodeURIComponent(String(e))))}function E(t){var e,n=[];for(e in t)I(e,t[e],n);return n.join("&")}function O(t){var e=arguments;if(1<e.length)Ft[e[0]]=e[1];else for(var n in e=e[0])Ft[n]=e[n]}function F(e){return e&&window.yterr?function(){try{return e.apply(this,arguments)}catch(t){A(t)}}:e}function A(t,e){var n=i("yt.logging.errors.log");n?n(t,e,void 0,void 0,void 0):(n=[],(n="ERRORS"in Ft?Ft.ERRORS:n).push([t,e,void 0,void 0,void 0]),O("ERRORS",n))}function M(t){if(this.type="",this.source=this.data=this.currentTarget=this.relatedTarget=this.target=null,this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.ctrlKey=this.altKey=!1,this.clientY=this.clientX=0,this.changedTouches=this.touches=null,t=t||window.event){for(var e in this.a=t)e in Mt||(this[e]=t[e]);if((e=t.target||t.srcElement)&&3==e.nodeType&&(e=e.parentNode),this.target=e,e=t.relatedTarget)try{e=e.nodeName?e:null}catch(n){e=null}else"mouseover"==this.type?e=t.fromElement:"mouseout"==this.type&&(e=t.toElement);this.relatedTarget=e,this.clientX=null!=t.clientX?t.clientX:t.pageX,this.clientY=null!=t.clientY?t.clientY:t.pageY,this.keyCode=t.keyCode?t.keyCode:t.which,this.charCode=t.charCode||("keypress"==this.type?this.keyCode:0),this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey}}function L(o,r,s,a){return a=void 0===a?{}:a,o.addEventListener&&("mouseenter"!=r||"onmouseenter"in document?"mouseleave"!=r||"onmouseenter"in document?"mousewheel"==r&&"MozBoxSizing"in document.documentElement.style&&(r="MozMousePixelScroll"):r="mouseout":r="mouseover"),f(function(t){var e,n="boolean"==typeof t[4]&&t[4]==!!a;if(e=l(t[4])&&l(a))t:{for(var i in e=t[4])if(!(i in a)||e[i]!==a[i]){e=!1;break t}for(i in a)if(!(i in e)){e=!1;break t}e=!0}return!!t.length&&t[0]==o&&t[1]==r&&t[2]==s&&(n||e)})}function N(t){t&&("string"==typeof t&&(t=[t]),ht(t,function(t){if(t in Lt){var e=Lt[t],n=e[0],i=e[1],o=e[3];e=e[4],n.removeEventListener?Dt()||"boolean"==typeof e?n.removeEventListener(i,o,e):n.removeEventListener(i,o,!!e.capture):n.detachEvent&&n.detachEvent("on"+i,o),delete Lt[t]}}))}function B(e,n,i){var t=void 0===t?{}:t;if(e&&(e.addEventListener||e.attachEvent)){var o=L(e,n,i,t);if(!o){o=++Nt.count+"";var r=!("mouseenter"!=n&&"mouseleave"!=n||!e.addEventListener||"onmouseenter"in document),s=r?function(t){if(!x((t=new M(t)).relatedTarget,function(t){return t==e}))return t.currentTarget=e,t.type=n,i.call(e,t)}:function(t){return(t=new M(t)).currentTarget=e,i.call(e,t)};s=F(s),e.addEventListener?("mouseenter"==n&&r?n="mouseover":"mouseleave"==n&&r?n="mouseout":"mousewheel"==n&&"MozBoxSizing"in document.documentElement.style&&(n="MozMousePixelScroll"),Dt()||"boolean"==typeof t?e.addEventListener(n,s,t):e.addEventListener(n,s,!!t.capture)):e.attachEvent("on"+n,s),Lt[o]=[e,n,i,s,t]}}}function H(t){return"function"==r(t)&&(t=F(t)),window.setInterval(t,250)}function R(t){return Vt[t]||(Vt[t]=String(t).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()}))}function D(){ht(zt,function(t){t()})}function V(t,e){e||(e=document);var n=h(e.getElementsByTagName("yt:"+t)),i="yt-"+t,o=e||document;return p(n,i=h(o.querySelectorAll&&o.querySelector?o.querySelectorAll("."+i):w(i,e)))}function U(t,e){return"yt:"==t.tagName.toLowerCase().substr(0,3)?t.getAttribute(e):t?t.dataset?t.dataset[R(e)]:t.getAttribute("data-"+e):null}function z(t,e){$t.G.apply($t,arguments)}function $(t){if(this.b=t||{},this.f={},this.c=this.a=!1,t=document.getElementById("www-widgetapi-script"),this.a=!!("https:"==document.location.protocol||t&&0==t.src.indexOf("https:"))){t=[this.b,window.YTConfig||{},this.f];for(var e=0;e<t.length;e++)t[e].host&&(t[e].host=t[e].host.replace("http://","https://"))}}function J(t,e){for(var n=[t.b,window.YTConfig||{},t.f],i=0;i<n.length;i++){var o=n[i][e];if(null!=o)return o}return null}function q(t,e,n){qt||(qt={},B(window,"message",u(t.g,t))),qt[n]=e}function W(t,e,n){if(this.h=this.a=this.b=null,this.g=this[ct]||(this[ct]=++ut),this.c=0,this.A=!1,this.s=[],this.f=null,this.l=n,this.m={},n=document,(t=s(t)?n.getElementById(t):t)&&(n="iframe"==t.tagName.toLowerCase(),e.host||(e.host=n?S(t.src):"https://www.youtube.com"),this.b=new $(e),n||(e=Y(this,t),(n=(this.h=t).parentNode)&&n.replaceChild(e,t),t=e),this.a=t,this.a.id||(t=(t=e=this.a)[ct]||(t[ct]=++ut),e.id="widget"+t),Ut[this.a.id]=this,window.postMessage)){for(var i in this.f=new T,X(this),e=J(this.b,"events"))e.hasOwnProperty(i)&&this.addEventListener(i,e[i]);for(var o in Jt)K(this,o)}}function K(t,e){var n=e.split(".");if(2==n.length){var i=n[1];t.l==n[0]&&Q(t,i)}}function G(t,e,n){n=n||[],e={event:"command",func:e,args:n=Array.prototype.slice.call(n)},t.A?t.B(e):t.s.push(e)}function Y(t,e){for(var n=document.createElement("iframe"),i=e.attributes,o=0,r=i.length;o<r;o++){var s=i[o].value;null!=s&&""!=s&&"null"!=s&&n.setAttribute(i[o].name,s)}n.setAttribute("frameBorder",0),n.setAttribute("allowfullscreen",1),n.setAttribute("allow","autoplay; encrypted-media"),n.setAttribute("title","YouTube "+J(t.b,"title")),(i=J(t.b,"width"))&&n.setAttribute("width",i),(i=J(t.b,"height"))&&n.setAttribute("height",i);var a=t.u();return a.enablejsapi=window.postMessage?1:0,window.location.host&&(a.origin=window.location.protocol+"//"+window.location.host),a.widgetid=t.g,window.location.href&&ht(["debugjs","debugcss"],function(t){var e=window.location.href,n=e.search(Ot);t:{for(var i=0,o=t.length;0<=(i=e.indexOf(t,i))&&i<n;){var r=e.charCodeAt(i-1);if((38==r||63==r)&&(!(r=e.charCodeAt(i+o))||61==r||38==r||35==r))break t;i+=o+1}i=-1}i<0?e=null:(((o=e.indexOf("&",i))<0||n<o)&&(o=n),i+=t.length+1,e=decodeURIComponent(e.substr(i,o-i).replace(/\+/g," "))),null===e||(a[t]=e)}),n.src=J(t.b,"host")+t.v()+"?"+E(a),n}function X(t){q(t.b,t,t.g),t.c=H(u(t.F,t)),B(t.a,"load",u(function(){window.clearInterval(this.c),this.c=H(u(this.F,this))},t))}function Q(t,e){t.m[e]||(t.m[e]=!0,G(t,"addEventListener",[e]))}function Z(t){return(0==t.search("cue")||0==t.search("load"))&&"loadModule"!=t}function tt(t){return 0==t.search("get")||0==t.search("is")}function et(t,e){if(!t)throw Error("YouTube player element ID required.");var n={title:"video player",videoId:"",width:640,height:360};if(e)for(var i in e)n[i]=e[i];W.call(this,t,n,"player"),this.i={},this.j={}}function nt(t){if("iframe"!=t.tagName.toLowerCase()){var e=U(t,"videoid");e&&new et(t,e={videoId:e,width:U(t,"width"),height:U(t,"height")})}}function it(t,e){if(l(e))for(var n in e)t.j[n]=e[n]}function ot(t,e){ht(e,function(e){this[e]||("getCurrentTime"==e?this[e]=function(){var t=this.j.currentTime;if(1==this.j.playerState){var e=(dt()/1e3-this.j.currentTimeLastUpdated_)*this.j.playbackRate;0<e&&(t+=Math.min(e,1))}return t}:Z(e)?this[e]=function(){return this.j={},this.i={},G(this,e,arguments),this}:tt(e)?this[e]=function(){var t=0;return 0==e.search("get")?t=3:0==e.search("is")&&(t=2),this.j[e.charAt(t).toLowerCase()+e.substr(t+1)]}:this[e]=function(){return G(this,e,arguments),this})},t)}function rt(t,e){var n={title:"Thumbnail",videoId:"",width:120,height:68};if(e)for(var i in e)n[i]=e[i];W.call(this,t,n,"thumbnail")}function st(t){if("iframe"!=t.tagName.toLowerCase()){var e=U(t,"videoid");if(e){(e={videoId:e,events:{}}).width=U(t,"width"),e.height=U(t,"height"),e.thumbWidth=U(t,"thumb-width"),e.thumbHeight=U(t,"thumb-height"),e.thumbAlign=U(t,"thumb-align");var n=U(t,"onclick");n&&(e.events.onClick=n),new rt(t,e)}}}var at,lt=this,ct="closure_uid_"+(1e9*Math.random()>>>0),ut=0,dt=Date.now||function(){return+new Date},pt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ht=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=s(t)?t.split(""):t,r=0;r<i;r++)r in o&&e.call(n,o[r],r,t)};n.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var ft,vt,mt=/&/g,yt=/</g,gt=/>/g,_t=/"/g,jt=/'/g,bt=/\x00/g,Ct=/[\x00&<>"']/;t:{var wt=lt.navigator;if(wt){var xt=wt.userAgent;if(xt){ft=xt;break t}}ft=""}var Tt,kt=new n(function(){return new g},function(t){t.reset()});y.prototype.add=function(t,e){var n=kt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},y.prototype.remove=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},g.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Pt=!(g.prototype.reset=function(){this.next=this.b=this.a=null}),St=new y;C.prototype.c=!1,C.prototype.dispose=function(){this.c||(this.c=!0,this.w())},C.prototype.w=function(){if(this.f)for(;this.f.length;)this.f.shift()()};var It=lt.JSON.stringify;e(T,C),(at=T.prototype).subscribe=function(t,e,n){var i=this.b[t];i||(i=this.b[t]=[]);var o=this.l;return this.a[o]=t,this.a[o+1]=e,this.a[o+2]=n,this.l=o+3,i.push(o),o},at.C=function(t){var e=this.a[t];if(e){var n=this.b[e];if(0!=this.h)this.g.push(t),this.a[t+1]=o;else{if(n){var i=pt(n,t);0<=i&&Array.prototype.splice.call(n,i,1)}delete this.a[t],delete this.a[t+1],delete this.a[t+2]}}return!!e},at.G=function(t,e){var n=this.b[t];if(n){for(var i=Array(arguments.length-1),o=1,r=arguments.length;o<r;o++)i[o-1]=arguments[o];if(this.m)for(o=0;o<n.length;o++){var s=n[o];P(this.a[s+1],this.a[s+2],i)}else{this.h++;try{for(o=0,r=n.length;o<r;o++)s=n[o],this.a[s+1].apply(this.a[s+2],i)}finally{if(this.h--,0<this.g.length&&0==this.h)for(;n=this.g.pop();)this.C(n)}}return 0!=o}return!1},at.clear=function(t){if(t){var e=this.b[t];e&&(ht(e,this.C,this),delete this.b[t])}else this.a.length=0,this.b={}},at.w=function(){T.I.w.call(this),this.clear(),this.g.length=0};var Et=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Ot=/#|$/,Ft=window.yt&&window.yt.config_||window.ytcfg&&window.ytcfg.data_||{};t("yt.config_",Ft);var At=0;t("ytDomDomGetNextId",i("ytDomDomGetNextId")||function(){return++At});var Mt={stopImmediatePropagation:1,stopPropagation:1,preventMouseEvent:1,preventManipulation:1,preventDefault:1,layerX:1,layerY:1,screenX:1,screenY:1,scale:1,rotation:1,webkitMovementX:1,webkitMovementY:1};M.prototype.preventDefault=function(){this.a&&(this.a.returnValue=!1,this.a.preventDefault&&this.a.preventDefault())},M.prototype.stopPropagation=function(){this.a&&(this.a.cancelBubble=!0,this.a.stopPropagation&&this.a.stopPropagation())},M.prototype.stopImmediatePropagation=function(){this.a&&(this.a.cancelBubble=!0,this.a.stopImmediatePropagation&&this.a.stopImmediatePropagation())};var Lt=i("ytEventsEventsListeners")||{};t("ytEventsEventsListeners",Lt);var Nt=i("ytEventsEventsCounter")||{count:0};t("ytEventsEventsCounter",Nt);var Bt,Ht,Rt,Dt=(Rt=!(Bt=function(){var t=!1;try{var e=Object.defineProperty({},"capture",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(n){}return t}),function(){return Rt||(Ht=Bt(),Rt=!0),Ht}),Vt={},Ut={},zt=[],$t=new T,Jt={},qt=null;$.prototype.g=function(t){if(t.origin==J(this,"host")||t.origin==J(this,"host").replace(/^http:/,"https:")){try{var e=JSON.parse(t.data)}catch(n){return}this.c=!0,this.a||0!=t.origin.indexOf("https:")||(this.a=!0),(t=qt[e.id])&&(t.A=!0,t.A&&(ht(t.s,t.B,t),t.s.length=0),t.H(e))}},(at=W.prototype).L=function(t,e){return this.a.width=t,this.a.height=e,this},at.K=function(){return this.a},at.H=function(t){this.o(t.event,t)},at.addEventListener=function(t,e){var n=e;return"string"==typeof e&&(n=function(){window[e].apply(window,arguments)}),this.f.subscribe(t,n),Q(this,t),this},at.J=function(){this.a.id&&(Ut[this.a.id]=null);var t=this.f;if(t&&"function"==typeof t.dispose&&t.dispose(),this.h){var e=(t=this.a).parentNode;e&&e.replaceChild(this.h,t)}else(t=this.a)&&t.parentNode&&t.parentNode.removeChild(t);for(var n in qt&&(qt[this.g]=null),this.b=null,t=this.a,Lt)Lt[n][0]==t&&N(n);this.h=this.a=null},at.u=function(){return{}},at.o=function(t,e){if(!this.f.c){var n={target:this,data:e};this.f.G(t,n),z(this.l+"."+t,n)}},at.F=function(){this.a&&this.a.contentWindow?this.B({event:"listening"}):window.clearInterval(this.c)},at.B=function(t){t.id=this.g,t.channel="widget",t=It(t);var e=this.b,n=S(this.a.src);if(e=0==n.indexOf("https:")?[n]:e.a?[n.replace("http:","https:")]:e.c?[n]:[n,n.replace("http:","https:")],!this.a.contentWindow)throw Error("The YouTube player is not attached to the DOM.");for(n=0;n<e.length;n++)try{this._skiped&&this.a.contentWindow.postMessage(t,e[n]),this._skiped=!0}catch(i){if(!i.name||"SyntaxError"!=i.name)throw i;A(i,"WARNING")}},e(et,W),(at=et.prototype).v=function(){return"/embed/"+J(this.b,"videoId")},at.u=function(){var t=J(this.b,"playerVars");if(t){var e,n={};for(e in t)n[e]=t[e];t=n}else t={};if(window!=window.top&&document.referrer&&(t.widget_referrer=document.referrer.substring(0,256)),e=J(this.b,"embedConfig")){if(l(e))try{e=It(e)}catch(i){console.error("Invalid embed config JSON",i)}t.embed_config=e}return t},at.H=function(t){var e=t.event;switch(t=t.info,e){case"apiInfoDelivery":if(l(t))for(var n in t)this.i[n]=t[n];break;case"infoDelivery":it(this,t);break;case"initialDelivery":window.clearInterval(this.c),this.j={},this.i={},ot(this,t.apiInterface),it(this,t);break;default:this.o(e,t)}},at.O=function(){var t=parseInt(J(this.b,"width"),10),e=parseInt(J(this.b,"height"),10),n=J(this.b,"host")+this.v();return Ct.test(n)&&(-1!=n.indexOf("&")&&(n=n.replace(mt,"&amp;")),-1!=n.indexOf("<")&&(n=n.replace(yt,"&lt;")),-1!=n.indexOf(">")&&(n=n.replace(gt,"&gt;")),-1!=n.indexOf('"')&&(n=n.replace(_t,"&quot;")),-1!=n.indexOf("'")&&(n=n.replace(jt,"&#39;")),-1!=n.indexOf("\0")&&(n=n.replace(bt,"&#0;"))),t='<iframe width="'+t+'" height="'+e+'" src="'+n+'" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>'},at.N=function(t){return this.i.namespaces?t?this.i[t].options||[]:this.i.namespaces||[]:[]},at.M=function(t,e){if(this.i.namespaces&&t&&e)return this.i[t][e]},e(rt,W),rt.prototype.v=function(){return"/embed/"+J(this.b,"videoId")},rt.prototype.u=function(){return{player:0,thumb_width:J(this.b,"thumbWidth"),thumb_height:J(this.b,"thumbHeight"),thumb_align:J(this.b,"thumbAlign")}},rt.prototype.o=function(t,e){rt.I.o.call(this,t,e?e.info:void 0)},t("YT.PlayerState.UNSTARTED",-1),t("YT.PlayerState.ENDED",0),t("YT.PlayerState.PLAYING",1),t("YT.PlayerState.PAUSED",2),t("YT.PlayerState.BUFFERING",3),t("YT.PlayerState.CUED",5),t("YT.get",function(t){return Ut[t]}),t("YT.scan",D),t("YT.subscribe",function(t,e,n){for(var i in $t.subscribe(t,e,n),Jt[t]=!0,Ut)K(Ut[i],t)}),t("YT.unsubscribe",function(t,e,n){k(t,e,n)}),t("YT.Player",et),t("YT.Thumbnail",rt),W.prototype.destroy=W.prototype.J,W.prototype.setSize=W.prototype.L,W.prototype.getIframe=W.prototype.K,W.prototype.addEventListener=W.prototype.addEventListener,et.prototype.getVideoEmbedCode=et.prototype.O,et.prototype.getOptions=et.prototype.N,et.prototype.getOption=et.prototype.M,zt.push(function(t){t=V("player",t),ht(t,nt)}),zt.push(function(){var t=V("thumbnail");ht(t,st)}),"undefined"!=typeof YTConfig&&YTConfig.parsetags&&"onload"!=YTConfig.parsetags||D();var Wt=i("onYTReady");Wt&&Wt();var Kt=i("onYouTubeIframeAPIReady");Kt&&Kt();var Gt=i("onYouTubePlayerAPIReady");Gt&&Gt()}.call(this),function(u){var d,i,p,h,o,f,e,l="Close",c="BeforeClose",n="AfterClose",r="BeforeAppend",v="MarkupParse",m="Open",s="Change",a="mfp",y="."+a,g="mfp-ready",j="mfp-removing",b="mfp-prevent-close",C=["a[href]:visible","area[href]","button:not([disabled])","embed","iframe",'input:not([type="hidden"]):not([tabindex="-1"])',"object","select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"]):visible'],t=function(){},w=!!window.jQuery,x=jQuery(window),T=function(t,e){d.ev.on(a+t+y,e)},k=function(t,e,n,i){var o=document.createElement("div");return o.className="mfp-"+t,n&&(o.innerHTML=n),i?e&&e.appendChild(o):(o=u(o),e&&o.appendTo(e)),o},P=function(t,e){d.ev.triggerHandler(a+t,e),d.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),d.st.callbacks[t]&&d.st.callbacks[t].apply(d,u.isArray(e)?e:[e]))},S=function(t){return t===e&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=u(d.st.closeMarkup.replace("%title%",d.st.tClose)),e=t),d.currTemplate.closeBtn},I=function(){u.magnificPopup.instance||((d=new t).init(),u.magnificPopup.instance=d)},E=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(t.transition!==undefined)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};t.prototype={constructor:t,init:function(){var t=navigator.appVersion;d.isIE7=-1!==t.indexOf("MSIE 7."),d.isIE8=-1!==t.indexOf("MSIE 8."),d.isLowIE=d.isIE7||d.isIE8,d.isAndroid=/android/gi.test(t),d.isIOS=/iphone|ipad|ipod/gi.test(t),d.supportsTransition=E(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),h=u(document),d.popupsCache={}},open:function(t){var e;if(p||(p=u(document.body)),!1===t.isObj){d.items=t.items.toArray(),d.index=0;var n,i=t.items;for(e=0;e<i.length;e++)if((n=i[e]).parsed&&(n=n.el[0]),n===t.el[0]){d.index=e;break}}else d.items=u.isArray(t.items)?t.items:[t.items],d.index=t.index||0;if(!d.isOpen){d.types=[],f="",t.mainEl&&t.mainEl.length?d.ev=t.mainEl.eq(0):d.ev=h,t.key?(d.popupsCache[t.key]||(d.popupsCache[t.key]={}),d.currTemplate=d.popupsCache[t.key]):d.currTemplate={},d.st=u.extend(!0,{},u.magnificPopup.defaults,t),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=k("bg").on("click"+y,function(){d.close()}),d.wrap=k("wrap").attr("tabindex",-1).on("click"+y,function(t){d._checkIfClose(t.target)&&d.close()}),d.container=k("container",d.wrap)),d.contentContainer=k("content"),d.st.preloader&&(d.preloader=k("preloader",d.container,d.st.tLoading));var o=u.magnificPopup.modules;for(e=0;e<o.length;e++){var r=o[e];r=r.charAt(0).toUpperCase()+r.slice(1),d["init"+r].call(d)}P("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(T(v,function(t,e,n,i){n.close_replaceWith=S(i.type)}),f+=" mfp-close-btn-in"):d.wrap.append(S())),d.st.alignTop&&(f+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:x.scrollTop(),position:"absolute"}),(!1===d.st.fixedBgPos||"auto"===d.st.fixedBgPos&&!d.fixedContentPos)&&d.bgOverlay.css({height:h.height(),position:"absolute"}),d.st.enableEscapeKey&&h.on("keyup"+y,function(t){27===t.keyCode&&d.close()}),x.on("resize"+y,function(){d.updateSize()}),d.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&d.wrap.addClass(f);var s=d.wH=x.height(),a={};if(d.fixedContentPos&&d._hasScrollBar(s)){var l=d._getScrollbarSize();l&&(a.marginRight=l)}d.fixedContentPos&&(d.isIE7?u("body, html").css("overflow","hidden"):a.overflow="hidden");var c=d.st.mainClass;return d.isIE7&&(c+=" mfp-ie7"),c&&d._addClassToMFP(c),d.updateItemHTML(),P("BuildControls"),u("html").css(a),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||p),d._lastFocusedEl=document.activeElement,setTimeout(function(){d.content?(d._addClassToMFP(g),d._setFocus()):d.bgOverlay.addClass(g),h.on("focusin"+y,d._onFocusIn)},16),d.isOpen=!0,d.updateSize(s),P(m),t}d.updateItemHTML()},close:function(){d.isOpen&&(P(c),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(j),setTimeout(function(){d._close()},d.st.removalDelay)):d._close())},_close:function(){P(l);var t=j+" "+g+" ";if(d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(t+=d.st.mainClass+" "),d._removeClassFromMFP(t),d.fixedContentPos){var e={marginRight:""};d.isIE7?u("body, html").css("overflow",""):e.overflow="",u("html").css(e)}h.off("keyup"+y+" focusin"+y),d.ev.off(y),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&!0!==d.currTemplate[d.currItem.type]||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d._lastFocusedEl&&u(d._lastFocusedEl).focus(),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,P(n)},updateSize:function(t){if(d.isIOS){var e=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*e;d.wrap.css("height",n),d.wH=n}else d.wH=t||x.height();d.fixedContentPos||d.wrap.css("height",d.wH),P("Resize")},updateItemHTML:function(){d.items.length<d.index&&(d.index=0);var t=d.items[d.index];d.contentContainer.detach(),d.content&&d.content.detach(),t.parsed||(t=d.parseEl(d.index));var e=t.type;if(P("BeforeChange",[d.currItem?d.currItem.type:"",e]),d.currItem=t,!d.currTemplate[e]){var n=!!d.st[e]&&d.st[e].markup;P("FirstMarkupParse",[n,d.currItem]),d.currTemplate[e]=!n||u(n)}o&&o!==t.type&&d.container.removeClass("mfp-"+o+"-holder");var i=d["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,d.currTemplate[e]);d.appendContent(i,e),t.preloaded=!0,P(s,t),o=t.type,d.container.prepend(d.contentContainer),P("AfterChange")},appendContent:function(t,e){(d.content=t)?d.st.showCloseBtn&&d.st.closeBtnInside&&!0===d.currTemplate[e]?d.content.find(".mfp-close").length||d.content.append(S()):d.content=t:d.content="",P(r),d.container.addClass("mfp-"+e+"-holder"),d.contentContainer.append(d.content)},parseEl:function(t){var e,n=d.items[t];if(n.tagName?n={el:u(n)}:(e=n.type,n={data:n,src:n.src}),n.el){for(var i=d.types,o=0;o<i.length;o++)if(n.el.hasClass("mfp-"+i[o])){e=i[o];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=e||d.st.type||"inline",n.index=t,n.parsed=!0,d.items[t]=n,P("ElementParse",n),d.items[t]},addGroup:function(e,n){var t=function(t){t.mfpEl=this,d._openClick(t,e,n)};n||(n={});var i="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(i).on(i,t)):(n.isObj=!1,n.delegate?e.off(i).on(i,n.delegate,t):(n.items=e).off(i).on(i,t))},_openClick:function(t,e,n){if((n.midClick!==undefined?n.midClick:u.magnificPopup.defaults.midClick)||2!==t.which&&!t.ctrlKey&&!t.metaKey){var i=n.disableOn!==undefined?n.disableOn:u.magnificPopup.defaults.disableOn;if(i)if(u.isFunction(i)){if(!i.call(d))return!0}else if(x.width()<i)return!0;t.type&&(t.preventDefault(),d.isOpen&&t.stopPropagation()),n.el=u(t.mfpEl),n.delegate&&(n.items=e.find(n.delegate)),d.open(n)}},updateStatus:function(t,e){if(d.preloader){i!==t&&d.container.removeClass("mfp-s-"+i),e||"loading"!==t||(e=d.st.tLoading);var n={status:t,text:e};P("UpdateStatus",n),t=n.status,e=n.text,d.preloader.html(e),d.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),d.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(t){if(!u(t).hasClass(b)){var e=d.st.closeOnContentClick,n=d.st.closeOnBgClick;if(e&&n)return!0;if(!d.content||u(t).hasClass("mfp-close")||d.preloader&&t===d.preloader[0])return!0;if(t===d.content[0]||u.contains(d.content[0],t)){if(e)return!0}else if(n&&u.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){d.bgOverlay.addClass(t),d.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),d.wrap.removeClass(t)},_hasScrollBar:function(t){return(d.isIE7?h.height():document.body.scrollHeight)>(t||x.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(t){if(t.target!==d.wrap[0]&&!u.contains(d.wrap[0],t.target))return d._setFocus(),!1},_parseMarkup:function(o,t,e){var r;e.data&&(t=u.extend(e.data,t)),P(v,[o,t,e]),u.each(t,function(t,e){if(e===undefined||!1===e)return!0;if(1<(r=t.split("_")).length){var n=o.find(y+"-"+r[0]);if(0<n.length){var i=r[1];"replaceWith"===i?n[0]!==e[0]&&n.replaceWith(e):"img"===i?n.is("img")?n.attr("src",e):n.replaceWith('<img src="'+e+'" class="'+n.attr("class")+'" />'):"value"===i?n.val(e):n.attr(r[1],e)}}else o.find(y+"-"+t).html(e)})},_getScrollbarSize:function(){if(d.scrollbarSize===undefined){var t=document.createElement("div");t.id="mfp-sbm",t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),d.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return d.scrollbarSize}},u.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,e){return I(),(t=t?u.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return u.magnificPopup.instance&&u.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(u.magnificPopup.defaults[t]=e.options),u.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},u.fn.magnificPopup=function(t,e){I();var n=u(this);if("string"==typeof t)if("open"===t){var i,o=w?n.data("magnificPopup"):n[0].magnificPopup,r=parseInt(e,10)||0;o.items?i=o.items[r]:(i=n,o.delegate&&(i=i.find(o.delegate)),i=i.eq(r)),d._openClick({mfpEl:i},n,o)}else d.isOpen&&d[t].apply(d,Array.prototype.slice.call(arguments,1));else t=u.extend(!0,{},t),w?n.data("magnificPopup",t):n[0].magnificPopup=t,d.addGroup(n,t);return n};var O,F,A,M="inline",L=function(){A&&(F.after(A.addClass(O)).detach(),A=null)};u.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(M),T(l+"."+M,function(){L()})},getInline:function(t,e){if(L(),t.src){var n=d.st.inline,i=u(t.src);if(i.length){var o=i[0].parentNode;o&&o.tagName&&(F||(O=n.hiddenClass,F=k(O),O="mfp-"+O),A=i.after(F).detach().removeClass(O)),d.updateStatus("ready")}else d.updateStatus("error",n.tNotFound),i=u("<div>");return t.inlineElement=i}return d.updateStatus("ready"),d._parseMarkup(e,{},t),e}}});var N,B=function(t){if(t.data&&t.data.title!==undefined)return t.data.title;var e=d.st.image.titleSrc;if(e){if(u.isFunction(e))return e.call(d,t);if(t.el)return t.el.attr(e)||""}return""};u.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<p class="dead_image"><span>Content could not be found.</span></p>'},proto:{initImage:function(){var t=d.st.image,e=".image";d.types.push("image"),T(m+e,function(){"image"===d.currItem.type&&t.cursor&&p.addClass(t.cursor)}),T(l+e,function(){t.cursor&&p.removeClass(t.cursor),x.off("resize"+y)}),T("Resize"+e,d.resizeImage),d.isLowIE&&T("AfterChange",d.resizeImage)},resizeImage:function(){var t=d.currItem;if(t&&t.img&&d.st.image.verticalFit){var e=0;d.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",d.wH-e)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,N&&clearInterval(N),t.isCheckingImgSize=!1,P("ImageHasSize",t),t.imgHidden&&(d.content&&d.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(t){N&&clearInterval(N),N=setInterval(function(){0<i.naturalWidth?d._onImageHasSize(e):(200<n&&clearInterval(N),3===++n?o(10):40===n?o(50):100===n&&o(500))},t)};o(1)},getImage:function(t,e){var n=0,i=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,P("ImageLoadComplete")):++n<200?setTimeout(i,100):o())},o=function(){t&&(t.img.off(".mfploader"),t===d.currItem&&(d._onImageHasSize(t),d.updateStatus("error",r.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},r=d.st.image,s=e.find(".mfp-img");if(s.length){var a=document.createElement("img");a.className="mfp-img",a.alt=t.alt,t.img=u(a).on("load.mfploader",i).on("error.mfploader",o),a.src=t.src,s.is("img")&&(t.img=t.img.clone()),0<(a=t.img[0]).naturalWidth?t.hasSize=!0:a.width||(t.hasSize=!1)}return d._parseMarkup(e,{title:B(t),img_replaceWith:t.img},t),d.resizeImage(),t.hasSize?(N&&clearInterval(N),t.loadError?(e.addClass("mfp-loading"),d.updateStatus("error",r.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),d.updateStatus("ready"))):(d.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),d.findImageSize(t))),e}}});var H,R=function(){return H===undefined&&(H=document.createElement("p").style.MozTransform!==undefined),H};u.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,r=d.st.zoom,e=".zoom";if(r.enabled&&d.supportsTransition){var n,i,o=r.duration,s=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+r.duration/1e3+"s "+r.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=n,e.css(i),e},a=function(){d.content.css("visibility","visible")};T("BuildControls"+e,function(){if(d._allowZoom()){if(clearTimeout(n),d.content.css("visibility","hidden"),!(t=d._getItemToZoom()))return void a();(i=s(t)).css(d._getOffset()),d.wrap.append(i),n=setTimeout(function(){i.css(d._getOffset(!0)),n=setTimeout(function(){a(),setTimeout(function(){i.remove(),t=i=null,P("ZoomAnimationEnded")},16)},o)},16)}}),T(c+e,function(){if(d._allowZoom()){if(clearTimeout(n),d.st.removalDelay=o,!t){if(!(t=d._getItemToZoom()))return;i=s(t)}i.css(d._getOffset(!0)),d.wrap.append(i),d.content.css("visibility","hidden"),setTimeout(function(){i.css(d._getOffset())},16)}}),T(l+e,function(){d._allowZoom()&&(a(),i&&i.remove(),t=null)})}},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return!!d.currItem.hasSize&&d.currItem.img},_getOffset:function(t){var e,n=(e=t?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem)).offset(),i=parseInt(e.css("padding-top"),10),o=parseInt(e.css("padding-bottom"),10);n.top-=u(window).scrollTop()-i;var r={width:e.width(),height:(w?e.innerHeight():e[0].offsetHeight)-o-i};return R()?r["-moz-transform"]=r.transform="translate("+n.left+"px,"+n.top+"px)":(r.left=n.left,r.top=n.top),r}}});var D=function(t){var e=d.items.length;return e-1<t?t-e:t<0?e+t:t},V=function(t,e,n){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,n)};u.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,closeByFocusEnter:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var r=d.st.gallery,t=".mfp-gallery",o=Boolean(u.fn.mfpFastClick);if(d.direction=!0,!r||!r.enabled)return!1;f+=" mfp-gallery",T(m+t,function(){r.navigateByImgClick&&d.wrap.on("click"+t,".mfp-img",function(){if(1<d.items.length)return d.next(),!1}),r.closeByFocusEnter&&d.wrap.on("keydown"+t,".mfp-close",function(t){13===t.keyCode&&d.close()}),h.on("keydown"+t,function(t){if(document.activeElement&&("TEXTAREA"===document.activeElement.tagName||"INPUT"===document.activeElement.tagName))return!0;37===t.keyCode?(d.arrowLeft.focus(),d.prev(),t.preventDefault()):39===t.keyCode?(d.arrowRight.focus(),d.next(),t.preventDefault()):9===t.keyCode&&d.handleTabKey(t)})}),T("UpdateStatus"+t,function(t,e){e.text&&(e.text=V(e.text,d.currItem.index,d.items.length))}),T(v+t,function(t,e,n,i){var o=d.items.length;n.counter=1<o?V(r.tCounter,
i.index,o):""}),T("BuildControls"+t,function(){if(1<d.items.length&&r.arrows&&!d.arrowLeft){var t=r.arrowMarkup,e=d.arrowLeft=u(t.replace(/%title%/gi,r.tPrev).replace(/%dir%/gi,"left")).addClass(b),n=d.arrowRight=u(t.replace(/%title%/gi,r.tNext).replace(/%dir%/gi,"right")).addClass(b),i=o?"mfpFastClick":"click";e[i](function(){d.prev()}),n[i](function(){d.next()}),d.isIE7&&(k("b",e[0],!1,!0),k("a",e[0],!1,!0),k("b",n[0],!1,!0),k("a",n[0],!1,!0)),d.container.append(e.add(n))}}),T(s+t,function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages(),d._preloadTimeout=null},16)}),T(l+t,function(){h.off(t),d.wrap.off("click"+t),d.wrap.off("keydown"+t,".mfp-close"),d.arrowLeft&&o&&d.arrowLeft.add(d.arrowRight).destroyMfpFastClick(),d.arrowRight=d.arrowLeft=null})},handleTabKey:function(t){var e,n=d.wrap.find(C.join()),i=Array.prototype.slice.call(n);-1<i.indexOf(t.target)&&(e=i.indexOf(t.target),this.cycleTab(t,i,e))},cycleTab:function(t,e,n){_.isFalsy(t.shiftKey)&&n===e.length-1&&(e[0].focus(),t.preventDefault()),_.isTruthy(t.shiftKey)&&0===n&&(e[e.length-1].focus(),t.preventDefault())},next:function(){d.direction=!0,d.index=D(d.index+1),d.updateItemHTML()},prev:function(){d.direction=!1,d.index=D(d.index-1),d.updateItemHTML()},goTo:function(t){d.direction=t>=d.index,d.index=t,d.updateItemHTML()},preloadNearbyImages:function(){var t,e=d.st.gallery.preload,n=Math.min(e[0],d.items.length),i=Math.min(e[1],d.items.length);for(t=1;t<=(d.direction?i:n);t++)d._preloadItem(d.index+t);for(t=1;t<=(d.direction?n:i);t++)d._preloadItem(d.index-t)},_preloadItem:function(t){if(t=D(t),!d.items[t].preloaded){var e=d.items[t];e.parsed||(e=d.parseEl(t)),P("LazyLoad",e),"image"===e.type&&(e.img=u('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,P("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0}}}}),I()}(window.jQuery||window.Zepto);var oldNavyCallback=function(t){var i=t,e=t.prodInfo,n=[],o=[],r=[],s=[],a='<input value="placeholder">';if(!e)return t;t.soldOut&&(delete t.soldOut,setTimeout(function(){PixleeDATC.showError()},2e3)),i.options=[],Array.isArray(e)||(e=[e]),$.each(e,function(t,e){e.productStyleVariantSizeInfo&&e.productStyleVariantSizeInfo.sizeDimension1SizeOptions&&(r=_.pluck(e.productStyleVariantSizeInfo.sizeDimension1SizeOptions,"sizeOptionName")),e.productStyleVariantSizeInfo&&e.productStyleVariantSizeInfo.sizeDimension2SizeOptions&&(s=_.pluck(e.productStyleVariantSizeInfo.sizeDimension2SizeOptions,"sizeOptionName")),e.productStyleColors&&(Array.isArray(e.productStyleColors)||(e.productStyleColors=[e.productStyleColors]),$.each(e.productStyleColors,function(t,e){if(e.isActive&&e.isInStock&&o.push(a.replace("placeholder",e.colorName)),isFalsy(i.price)&&e.productStyleColorPrice){var n=e.productStyleColorPrice;i.price=n.currentMaxPrice===n.currentMinPrice?n.currentMinPrice:n.currentMinPrice+"-"+n.currentMaxPrice}isFalsy(i.image)&&e.productStyleColorImages&&e.productStyleColorImages.mainImage&&(i.image="http://oldnavy.gap.com/"+e.productStyleColorImages.mainImage.path)})),n.push(a.replace("placeholder",e.variantName))}),r=_.union(r),s=_.union(s),o=_.union(o),r=_.map(r,function(t){return a.replace("placeholder",t)}),s=_.map(s,function(t){return a.replace("placeholder",t)}),i.options.push({name:"Inseam",nodes:s},{name:"Size Type",nodes:n},{name:"Size",nodes:r},{name:"Color",nodes:o}),t.id=PixleeDATC.product.id,t.options=JSON.stringify(t.options),delete t.prodInfo;var l=gon.global.pixleePhotosServer+"/addToCart/old_navy_save_scrape";return $.ajax({url:l,cache:!0,dataType:"json",type:"POST",data:t}),t.options=JSON.parse(t.options),i},SOCIAL_SHARE_PARAM="/social/share_social_media?",DEFAULT_LIGHTBOX_VERSION="v1",data=[],magnificPopup,ctaCarousel,current_album,datcIndex=0,activeCtaIndex=0,magnificPopupIndex=0,lightboxVersion,enableDatc=!1,enableHotspots=!1,enableCarousel=!1,enableLightboxReviews=!1;window.addEventListener("message",function(t){var e;if(t.data){try{e=JSON.parse(t.data)}catch(o){return}if(e&&e.name&&"pixlee:datc:complete:confirmation"===e.name&&"undefined"!=typeof PixleeDATC&&PixleeDATC.addedToCart(),e&&e.name&&"pixlee:datc:frame:loaded"===e.name&&"undefined"!=typeof PixleeDATC){var n={name:"pixlee:message:datc:frame",type:"action",source:"lightbox",destination:"parent",data:{fields:PixleeDATC.fields}};window.parent.postMessage(JSON.stringify(n),"*")}if(e&&e.name&&"pixlee:datc:stock:status"===e.name){var i=e.data;PixleeDATC.setProdImage(i.image,i.parentUrl),PixleeDATC.setPrice(i.price),i.value?PixleeDATC.removeError():PixleeDATC.showError()}e&&e.name&&"pixlee:close:lightbox"===e.name&&$.magnificPopup.proto.close(),e.name&&"pixlee:css:generated"===e.name&&$.ajax({url:"/generatecss",type:"POST",data:e.data,dataType:"json",success:function(t){$("#proserveStylesheet").html(t.proserve_css),$("#dynamicStylesheet").html(t.css)}})}},!1);var configArrows=function(t,e,n){var i=t.find("#cta_prev"),o=t.find("#cta_next"),r=6<n;i&&o&&(i.toggleClass("prevent_product_overflow_arrow",r),o.toggleClass("prevent_product_overflow_arrow",r)),e&&e.toggleClass("prevent_product_overflow",r),1<n?showArrows(t):hideArrows(t),t.find("#middle_block, #cta_container, #cta_panel").toggle(0<n)},createCta=function(t,e,n){isFalsy(t.image)&&e.find("#middle_block").addClass("simple_cta"),isFalsy(t.id)&&(t.id=""),e.find("#cta_container").append(JST[n](t)),hideArrows(e),enableCarousel&&(e.find("#caption_holder").hide(),PixleeCarousel.setStartCtaIndex(0,1))},LightBoxEvents={tries:0,queueArray:[],acceptCookiePolicy:!0,checkQueue:function(){var e=this;if(!this.getDistinctUserHash())return!1;_.each(this.queueArray,function(t){t.obj.attribution_window=gon.current_account.extra_fields.attribution_window||30,t.obj.distinct_user_hash||(t.obj.distinct_user_hash=e.getDistinctUserHash()),t.cookieEvent&&e.sendDataToParent(t.obj,t.cookieEvent),gon.fingerprint&&"none"!==gon.fingerprint&&(t.obj.fingerprint=gon.fingerprint),e.addKeenData(t.obj),e.KeenClient||"undefined"==typeof Keen?e.KeenClient.recordEvent(t.event,t.obj):Keen.ready(function(){e.KeenClient=new Keen({projectId:keen_project_id,writeKey:keen_write_key,host:"tinyrick.pixlee.com"}),e.KeenClient.recordEvent(t.event,t.obj)})}),this.queueArray=[]},getCookie:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""},addKeenData:function(t){var e=[];e.push({name:"keen:ip_to_geo",input:{ip:"ip_address"},output:"ip_geo_info"}),t.ip_address=gon.remote_ip,e.push({name:"keen:ua_parser",input:{ua_string:"user_agent"},output:"parsed_user_agent"}),t.user_agent=navigator.userAgent,e.push({name:"keen:url_parser",input:{url:"page_url"},output:"parsed_page_url"}),t.page_url=document.location.href,e.push({name:"keen:referrer_parser",input:{referrer_url:"referrer_url",page_url:"page_url"},output:"referrer_info"}),t.referrer_url=document.referrer,t.page_url=document.location.href,t.keen={addons:e}},queueEvents:function(){var t=this;setTimeout(function(){0<t.queueArray.length&&t.acceptCookiePolicy&&t.checkQueue(),t.queueEvents()},200)},sendDataToParent:function(t,e){var n={name:e,type:"action",source:"widget",destination:"parent",data:t};window.parent.postMessage(JSON.stringify(n),"*")},OpenedPhoto:function(t,e,n,i,o,r){var s=this.defaultProperties();s.widget_config=this.defaultWidgetConfig(),s.album_photo_id=t,s.currentDistilleryPage=i,s.direct_click=o,s.subcollection="Opened Lightbox",s.contentSource=e,s.contentType=n,s.review=r;var a={obj:s,cookieEvent:"pixlee:opened:photo",event:"Interacted"};this.queueArray.push(a)},ActionLinkLoaded:function(t,e,n){var i=this.defaultProperties();i.widget_config=this.defaultWidgetConfig(),i.album_photo_id=t,i.links=isFalsy(e)?1:e,n&&(i.rich_action=!0);var o={obj:i,event:"Action Link Loaded"};this.queueArray.push(o)},ActionLinkClicked:function(t,e,n,i){var o=this.defaultProperties();o.widget_config=this.defaultWidgetConfig(),o.album_photo_id=t,o.action_link_url=e,o.action_text=n,i&&(o.rich_action=!0),"tap2shop"===gon.type&&(o.tap2shop=!0),o.subcollection="Action Clicked";var r={obj:o,event:"Interacted"};this.queueArray.push(r)},HotspotsClicked:function(t){var e=this.defaultProperties();e.widget_config=this.defaultWidgetConfig(),e.album_photo_id=t,e.subcollection="Hotspots Clicked";var n={obj:e,event:"Interacted"};this.queueArray.push(n)},AddToCartLoaded:function(t,e){var n=this.defaultProperties();n.album_photo_id=e,n.product=t;var i={obj:n,event:"Add To Cart Loaded"};this.queueArray.push(i)},AddToCartClicked:function(t,e,n,i){var o=this.defaultProperties();o.pixlee_user=o.account_id,o.album_photo_id=e,o.product_sku=t.toString(),o.price=n,o.quantity=i,o.DATC=!0,o.pixlee_album_photos=[e],o.pixlee_album_photos_timestamps=[Date.now()/1e3],o.last_opened_lightbox=parseInt(Date.now()/1e3);var r;o.fingerprint=gon.fingerprint,o.uid=this.getDistinctUserHash(),o.pixleeEventsVersion="2.0.0",o.API_KEY=gon.current_account.single_access_token,(r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("POST","https://inbound-analytics.pixlee.com/events/addToCart",!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(o))},PhotoShared:function(t,e){var n=this.defaultProperties();n.widget_config=this.defaultWidgetConfig(),n.widget=this.widget,n.album_photo_id=t,n.platform=e,n.subcollection="Photo Shared";var i={obj:n,event:"Interacted"};this.queueArray.push(i)},analyticsTrackClickReportButton:function(t){var e=this.defaultProperties();e.widget_config=this.defaultWidgetConfig(),e.album_photo_id=t,e.is_mobile=gon.isMobile||!1,e.is_tablet=gon.isTablet||!1,e.subcollection="Click Lightbox Report Button";var n={obj:e,event:"Interacted"};this.queueArray.push(n)},defaultProperties:function(){var t=gon.current_photo?gon.current_photo.album_id:gon.current_album.id,e=gon.current_photo?null:gon.recipe.filter_sort_id||gon.publication_id,n=this.getParameterByName("parent_url",document.location.href),i={album_id:t,account_id:gon.current_account.id,publication_id:e,distinct_user_hash:this.getDistinctUserHash(),sortType:gon.sortType,widget:gon.widget,parentURL:n,baseParentURL:_.isTruthy(n)?n.split(/[?#]/)[0]:null,widget_version:"v4"};return gon.current_album&&(i.album_type=gon.current_album.album_type),gon.widget_id&&(i.widget_id=parseInt(gon.widget_id)),gon.widget_id_param&&(i.widget_id_param=parseInt(gon.widget_id_param)),gon.widget_type?i.widget_type=gon.widget_type:i.widget_type="simple",gon.fingerprint&&(i.fingerprint=gon.fingerprint),gon.experiment_id&&gon.experiment_group&&(i.experiment_id=gon.experiment_id,i.experiment_group=gon.experiment_group),i},defaultWidgetConfig:function(){var t,e,n=$("#upload_now"),i=gon.display_options,o=i.headerOptions,r=i.interactiveWidgetOptions,s=gon.recipe?this.extractActiveFilters(gon.recipe.filters):null,a=!!n&&"none"!==n.css("display");return t=i.is_datc?"DATC":i.showCallToAction?"CTA":"default",r&&(e={categories:r.categories,location:r.location,personalized:r.personalized,months:r.seasons,search:r.search,sort:r.sort,sortPopular:r.sortPopular,sortPrice:r.sortPrice,sortRecent:r.sortRecent,widgetType:r.widgetType,interactiveWidgetType:r.interactiveWidgetType,numOfCategories:r.selectedCategories?r.selectedCategories.length:0,selectedCategories:r.selectedCategories}),{interactiveWidgetOptions:e||!1,interactive_social_hub:i.is_interactive||!1,interactive_social_hub_type:!!r&&r.interactiveWidgetType,header_layout:!!o&&o.layout,uploader:a,uploader_button_style:!!o&&o.button,lightbox:t,theme:i.css_preset_filename||i.css_preset_filename_v2||"",mobile_optimization:i.showViewport||!1,load_priority:i.speedOptimization||!1,album_filters:s,end_tile_uploader:i.headerOptions.end_tile_upload_button_background_showHide||!1}},extractActiveFilters:function(t){var o={};return _.each(t,function(t,e){var n=!1;if(Array.isArray(t))n=0<t.length;else if("object"==typeof t){var i=0;_.each(t,function(t){i+=t.length?t.length:0}),n=0<i}else n=!t;n&&(o[e]=t)}),o},getDistinctUserHash:function(){if("undefined"!=typeof analytics&&analytics.getAnonymousId)return analytics.getAnonymousId()},getTime:function(){return Date.now()},getParameterByName:function(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==n?null:decodeURIComponent(n[1].replace(/\+/g," "))}};if(isFalsy(gon.previewMode)){window.addEventListener("message",function(t){var e;if(t.data){try{e=JSON.parse(t.data)}catch(n){return}e.name&&("pixlee:fingerprint"===e.name?(gon.fingerprint=e.data,LightBoxEvents.queueEvents()):"pixlee:cookie"===e.name&&(LightBoxEvents.acceptCookiePolicy=e.data))}}.bind(this));var getFingerprintMessage={name:"pixlee:get:fingerprint:from:parent",type:"action",destination:"all",source:"",data:{}},getCookieMessage={name:"pixlee:get:cookie:from:parent",type:"action",destination:"all",source:"",data:{}};window.parent.postMessage(JSON.stringify(getFingerprintMessage),"*"),window.parent.postMessage(JSON.stringify(getCookieMessage),"*")}$(function(){function c(t,l,c,u){function n(t){if(t.disablePoweredByClick&&$("#powered_by_pixlee").css("pointer-events","none"),t.lightboxOptions){var e=t.lightboxOptions.customReportHref;_.isTruthy(e)&&$("#report_button").attr("href",e)}}function d(t,e){h.videoPlayer=videojs("pixlee_video"),h.videoPlayer.apVideoOptions=t,h.videoPlayer.doVideoOptions=e,h.videoPlayer.on("loadedmetadata",function(){0<this.apVideoOptions.start?this.currentTime(this.apVideoOptions.start):this.doVideoOptions.autoplay||this.currentTime(.01),c.muteVideos&&this.volume(0),this.dimensions(620,620),this.doVideoOptions.sound||this.muted(!0),this.doVideoOptions.autoplay&&this.play(),this.doVideoOptions.loop&&this.loop(!0),(0<this.apVideoOptions.start||0<this.apVideoOptions.end)&&this.on("timeupdate",function(){var t=0<this.apVideoOptions.end?this.apVideoOptions.end:this.duration();this.currentTime()>=t&&(this.currentTime(this.apVideoOptions.start||0),this.doVideoOptions.loop||this.pause())}),$(".mfp-s-error").removeClass("mfp-s-error"),$(".dead_image").remove(),$(".mfp-preloader").hide()}),h.videoPlayer.load()}function p(t,e,n){function i(t){h.player.unMute(),h.player.setVolume(100),n.sound||t.target.mute(),$(".mfp-s-error").removeClass("mfp-s-error"),$(".dead_image").remove(),$(".mfp-preloader").hide()}function o(t){t&&0===t.data&&n.loop&&h.player.seekTo(e.start||0)}h.player=new YT.Player("player",{height:"620",width:"620",videoId:t,host:"https://www.youtube.com",events:{onReady:i,onStateChange:o},playerVars:{rel:0,autoplay:n.autoplay?1:0,start:e.start||0,end:e.end||0}})}isFalsy(l)&&(l=gon.current_album,c=gon.display_options),m=getSpinnerUrl(c),determineLightboxVersion(c);var h=this,e=JST["javascripts/standalone/lightbox/templates/"+lightboxVersion+"/desktop"],f=!1;v="javascripts/standalone/lightbox/templates/"+lightboxVersion+"/cta_desktop",(enableLightboxReviews=c.reviewOptions&&c.reviewOptions.lightboxReviews)&&(ReviewsHelper=new PixleeReviews,ReviewsHelper.setVisibility(!0)),c.hotspots&&(HotspotsHelper=new PixleeHotspots("#desktop_hotspot_holder")),magnificPopup=$.magnificPopup.open({items:y,key:"my-popup",type:"image",image:{markup:e(),verticalFit:!1},closeMarkup:'<button class="mfp-close" aria-label="Close">close</button>',tLoading:"",gallery:{enabled:!0,preload:[0,4]},callbacks:{open:function(){var t={name:"pixlee:show:lightbox",type:"action",source:"lightbox",destination:"parent",data:{}};document.addEventListener("keydown",function(t){document.body.classList.contains("using-mouse")&&document.body.classList.remove("using-mouse"),document.body.classList.add("using-keyboard"),13===t.keyCode&&t.target.click()}),document.addEventListener("mousedown",function(){document.body.classList.contains("using-keyboard")&&document.body.classList.remove("using-keyboard"),document.body.classList.add("using-mouse")});var e=setInterval(function(){window.focus(),document.hasFocus()&&clearInterval(e)},100);window.parent.postMessage(JSON.stringify(t),"*"),initializeClicks(),f=!0,modifyPBPDestination(),n(gon.display_options)},close:function(){var t={name:"pixlee:hide:lightbox",type:"action",source:"lightbox",destination:"all",data:{}};window.parent.postMessage(JSON.stringify(t),"*"),this.currItem&&this.currItem.data&&(this.time=Date.now(),this.lastItem=null),magnificPopup=null,f=!1},imageLoadComplete:function(){initalizeCtaClicks("cta_desktop",l,c),enableHotspots&&(HotspotsHelper.renderHotspots(),HotspotsHelper.setToggleVisibilityOnHover(),HotspotsHelper.setPeekActiveHotspotTrigger($("#cta_block")))},change:function(t){magnificPopupIndex=t.index;var e={name:"pixlee:change:lightbox:image",type:"action",source:"lightbox",destination:"parent",data:{id:this.currItem.data.album_photo_id||this.currItem.data.id,initialOpen:!f}};if(window.parent.postMessage(JSON.stringify(e),"*"),this.currItem&&this.currItem.data){var n=this.currItem.data.album_photo_id,i=Math.ceil(1*(this.index+1)/u),o=this.currItem.data.source,r=this.currItem.data.content_type,s=this.currItem.data.selectedReviewInfo||null;LightBoxEvents.OpenedPhoto(n,o,r,i,!f,s),this.time=Date.now(),this.lastItem=n,this.content.toggleClass("reviews_active",_.isTruthy(s&&s.active))}linkLoaded(this.currItem.data);var a=this.currItem.data.video_settings||{},l=gon.display_options.videoOptions?gon.display_options.videoOptions:{};if("video"===this.currItem.data.content_type&&"youtube"!==this.currItem.data.source){var c=this.currItem.data.videoURL;_.isTruthy(h.videoPlayer)?(h.videoPlayer.apVideoOptions=a,h.videoPlayer.doVideoOptions=l,$("#div_video_html5_api").hide(),h.videoPlayer.pause(),h.videoPlayer.dimensions(620,620),h.videoPlayer.src(c),$("#pixlee_video_html5_api").attr("poster",m),$("#div_video").removeClass("vjs-playing").addClass("vjs-paused"),$("#div_video_html5_api").show(),h.videoPlayer.load()):setTimeout(function(){d(a,l)},300)}h.player&&h.player.a&&h.player.destroy(),"youtube"===this.currItem.data.source&&setTimeout(function(){_.isTruthy(this.currItem)&&p(this.currItem.data.media_id,a,l)}.bind(this),300)},markupParse:function(t,e,n){if((!n.data.products||0===n.data.products.length)&&this.currItem.data&&_.isTruthy(this.currItem.data.actionLinkPhotoFormatted)){var i=this.currItem.data;n.data.products=[],n.data.products[0]={},n.data.products[0].link=formatLink(i.actionLinkFormatted,l,c),n.data.products[0].image=i.actionLinkPhotoFormatted,n.data.products[0].title=i.actionLinkTitleFormatted,n.data.products[0].link_text=i.actionLinkTextFormatted}if(t.find(".vote_button").toggleClass("active",!0===n.data.userVoted),t.find("#cta_container, .review_holder, #desktop_hotspot_holder").empty(),c.hotspots&&HotspotsHelper.setHotspots(c,l,n.data),enableDatc=_.isTruthy(LightBoxEvents.getParameterByName("add_to_cart",document.location.href)||gon.add_to_cart)){var o,r=0;n.data.products=filterProductsByPDP(l,n.data.products),_.isTruthy(gon.current_account.extra_fields)&&_.isTruthy(gon.current_account.extra_fields.valid_product_domains)&&(o=gon.current_account.extra_fields.valid_product_domains),_.isEmpty(o)||(n.data.products=filterProductsByDomain(o,n.data.products));var s=LightBoxEvents.getParameterByName("add_to_cart_navigate",document.location.href)||gon.add_to_cart_navigate;return s=s!==undefined&&null!==s?s:"true",PixleeDATC=new PixleeAddToCart,PixleeDATC.template="javascripts/standalone/lightbox/templates/"+lightboxVersion+"/add_to_cart/_desktop",_.isTruthy(gon.display_options.reviewOptions&&gon.display_options.reviewOptions.lightboxReviews)&&(r=datcActiveProductIndex(n.data.products,n.data.selectedReviewInfo)),n.data.products&&n.data.products[0]&&n.data.products[0].datc_override?renderProductCTA(n.data,t,l,c,v):(PixleeDATC.generateATC(n.data.products[r],PixleeDATC.template,s,gon.current_account.id,n.data.album_photo_id,n.data),enableHotspots&&HotspotsHelper.setCtaProductIndex(r,!0)),void t.find("#cta_prev, #cta_next").toggleClass("active",2<=n.data.products.length)}t.find("#middle_block").removeClass("simple_cta"),g.onSetCtaLinks(t,n.data,l,c);var a=isFalsy(n.data.user_name);t.find("#user_info_holder").children().toggle(!a),uploaderAdditionalFields(n,t)},elementParse:function(t){isFalsy(t.src)&&(t.src=src(t.data));var e=insertParam(window.location!==window.parent.location?document.referrer:document.location.href,"pixlee_album_photo_id",t.data.album_photo_id);t.data.short_share_url=e,t.data.vote_style=l.campaign?"":"display:none;";var n="";return"instagram_story"===t.data.subtype&&"instagram"===t.data.source&&(n="https://www.instagram.com/"+t.data.user_name),t.data.submitterFormatted_href=_.isTruthy(n)?n:t.data.submitterHref,t.data.unreadCount=t.data.unread_count,t.data.avatarUrl_alt=t.data.user_name+" avatar",t.data.likeCount=t.data.like_count,"instagram_story"!==t.data.subtype&&(t.data.story_style="display:none"),_.isTruthy(t.data.avatar_url)?t.data.avatarUrl_src=t.data.avatar_url:t.data.avatarUrl_src="/images/embed/glyph/avatar@2x.jpg",t.data.captionFormatted=escapeHtml(t.data.captionFormatted),t.data.nativeLikes=t.data.native_likes,t.alt=altText(t.data),"image"===t.data.content_type?(t.data.hideOnVideo_style="background-image: url('"+t.src+"')",t.data.hideOnImage_style="display:none;",t.data.hideOnYoutube_style="display:none;"):"video"===t.data.content_type&&"youtube"!==t.data.source?(t.data.video_poster=m,t.data.videoUrl_src=t.data.videoURL,t.data.hideOnImage_style="",t.data.hideOnVideo_style="display:none;",t.data.hideOnYoutube_style="display:none;"):"youtube"===t.data.source&&(t.data.hideOnYoutube_style="",t.data.hideOnVideo_style="display:none;",t.data.hideOnImage_style="display:none;"),t}}},t||0)}function t(t){var e;if(t.data){try{e=JSON.parse(t.data)}catch(l){return}if(e.name&&"pixlee:open:lightbox"===e.name){var n=e.data,i=JSON.parse(n.variables);y=JSON.parse(n.modelData);var o=n.current_album,r=n.display_options,s=i.perPage;gon.sortType=i.sortType,gon.widget=i.widget,c(n.indexToOpen,o,r,s)}if(_.isTruthy(gon.lightbox_album_photo)&&0<gon.lightbox_album_photo.length&&e.name&&"pixlee:vote:loaded"===e.name)for(var a=y.length-1;0<=a;a--)-1!==e.data.pixlee_votes.indexOf(y[a].album_id+"_"+y[a].album_photo_id)&&(y[a].userVoted=!0,magnificPopup.items[a].data=y[a],$.magnificPopup.instance.updateItemHTML())}}var v,m,y=[],g={onSetCtaLinks:function(t,e,n,i){setCtaLinks(t,e,n,i,v)}};if(_.isTruthy(gon.lightbox_album_photo)&&0<gon.lightbox_album_photo.length)(y=[gon.lightbox_album_photo[0].album_photo])[0].submitterFormatted=submitterFormatted(y[0]),y[0].submitterHref=submitterHref(y[0]),y[0].actionLinkFormatted=actionLinkFormatted(y[0]),y[0].captionFormatted=captionFormatted(y[0]),y[0].actionLinkTextFormatted=actionLinkTextFormatted(y[0]),y[0].actionLinkTitleFormatted=actionLinkTitleFormatted(y[0]),y[0].actionLinkPhotoFormatted=actionLinkPhotoFormatted(y[0]),y[0].videoURL=videoURL(y[0]),y[0].posterUrl=m,y[0].products=gon.products,c();else{var e={name:"pixlee:remove:url:param",type:"action",source:"lightbox",destination:"parent",data:{}};window.parent.postMessage(JSON.stringify(e),"*")}window.addEventListener("message",t,!1),window.onload=function(){window.parent.postMessage(JSON.stringify({ready:!0}),"*")}}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,o){return jQuery.easing[jQuery.easing.def](t,e,n,i,o)},easeInQuad:function(t,e,n,i,o){return i*(e/=o)*e+n},easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeInOutQuad:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,o){return i*(e/=o)*e*e+n},easeOutCubic:function(t,e,n,i,o){return i*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,o){return i*(e/=o)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,o){return i*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(t,e,n,i,o){return 0==e?n:i*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(t,e,n,i,o){return e==o?n+i:i*(1-Math.pow(2,-10*e/o))+n},easeInOutExpo:function(t,e,n,i,o){return 0==e?n:e==o?n+i:(e/=o/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,o){return-i*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(t,e,n,i,o){return(e/=o/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;r=s/4}else r=s/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)+n},easeOutElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),a<Math.abs(i)){a=i;r=s/4}else r=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*o-r)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,o){var r=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=o/2))return n+i;if(s||(s=o*(.3*1.5)),a<Math.abs(i)){a=i;r=s/4}else r=s/(2*Math.PI)*Math.asin(i/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)*-.5+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,o,r){return r==undefined&&(r=1.70158),i*(e/=o)*e*((r+1)*e-r)+n},easeOutBack:function(t,e,n,i,o,r){return r==undefined&&(r=1.70158),i*((e=e/o-1)*e*((r+1)*e+r)+1)+n},easeInOutBack:function(t,e,n,i,o,r){return r==undefined&&(r=1.70158),(e/=o/2)<1?i/2*(e*e*((1+(r*=1.525))*e-r))+n:i/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+n},easeInBounce:function(t,e,n,i,o){return i-jQuery.easing.easeOutBounce(t,o-e,0,i,o)+n},easeOutBounce:function(t,e,n,i,o){return(e/=o)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,o){return e<o/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,o)+n:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,i,o)+.5*i+n}}),function(){this.JST||(this.JST={}),this.JST["javascripts/standalone/lightbox/templates/v2/desktop"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div id="photo_lightbox_wrapper_desktop" role="modal" aria-modal="true" aria-label="image">\n\n   <div id="desktop_hotspot_holder"></div>\n\n   <div id="left_panel">\n\n      <div id="content_holder">\n         <div class="mfp-hideOnVideo"><img class="mfp-img"></div>\n         <video id="pixlee_video" class="video-js vjs-default-skin mfp-video mfp-hideOnImage">\n            <source id="pixlee_video_source" class="mfp-videoUrl" type="video/mp4" ></source>\n            <p class="vjs-no-js">\n               \'To view this video please enable JavaScript, and consider upgrading to a web browser\n               \'that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>\n            </p>\n         </video>\n         <div id="pixlee_youtube_video" class="mfp-hideOnYoutube">\n            <div id="player"></div>\n         </div>\n         <div class="vote_button mfp-vote">\n         '),gon.display_options.showVoteCount&&__p.push('\n         <div class="vote_count mfp-likeCount"></div>\n         '),__p.push('\n         </div>\n      </div>\n\n      <div id="content_details">\n         <div id="user_info_holder">\n            <div id="user_avatar">\n               <img class="mfp-avatarUrl" onerror=\'this.style.display = "none"\' onload="this.style.display=\'\'">\n            </div>\n            <div class="mfp-story"></div>\n            <a class="mfp-submitterFormatted" id="user_name" target="_blank"></a>\n            <div class="like_count mfp-nativeLikes"></div>\n            <ul id="social_holder">\n               <li><a id="facebook_share" role="link" tabindex="0" aria-label="Share on Facebook"></a></li>\n               <li><a id="twitter_share" role="link" tabindex="0" aria-label="Share on Twitter"></a></li>\n               <li><a id="pinterest_share" role="link" tabindex="0" aria-label="Share on Pinterest"></a></li>\n               <li><a id="tumblr_share" role="link" tabindex="0" aria-label="Share on Tumblr"></a></li>\n            </ul>\n         </div>\n         <div class="mfp-captionFormatted" id="caption_holder"></div>\n      </div>\n\n   </div>\n\n   <div class="mfp-close" tabindex="0"></div>\n\n   <div id="right_panel">\n      <div id="middle_block">\n         <div id="cta_block">\n              <a id="cta_prev" href="#" class="active" tabindex="0"></a>\n              <a id="cta_next" href="#" class="active" tabindex="0"></a>\n              <div id="cta_container"></div>\n              <div class="review_holder"></div>\n         </div>\n      </div>\n      <div id="bottom_block">\n         <a href="https://www.pixlee.com/legal#dmca" target="_blank" id="report_button"></a>\n         <a href="https://www.pixlee.com/?utm_source=Powered%20by%20Pixlee&utm_medium=widget-lightbox&utm_campaign=Powered%20by%20Pixlee" target="_blank" id="powered_by_pixlee"></a>\n      </div>\n   </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["javascripts/standalone/lightbox/templates/v2/cta_desktop"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="cta_item_container" href="',decode_utf8_link(link),'" target="',gon.display_options.ctaCurrentTab?"_parent":"_blank",'" data-product-id="',id,'">\n\n\t<div class="cta_holder">\n\t\t<div class="cta_img" style="background-image:url(\'',decode_utf8(image),'\')">\n\t\t\t<img alt="',decode_utf8(altTextProduct(title)),"\" src='",decode_utf8(image),'\' style="position: fixed; left: -100000px;"/>\n\t\t</div>\n\t\t<div class="product_right">\n\t\t\t<div class="product_name">',decode_utf8(title),'</div>\n\t\t\t<div class="product_cta ',is_default_product_cta?"is_default":"",'" data-content="',decode_utf8(link_text),'"></div>\n\t\t</div>\n\t</div>\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["javascripts/standalone/lightbox/templates/v2/add_to_cart/_desktop"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div id="add_to_cart_container">\n\t<div href="',decode_utf8_link(link),'" class="info_content">\n\t\t<div class="product_image"></div>\n\t\t<div class="product_name_price">\n\t\t\t<div class="product_name">',decode_utf8(title),'</div>\n\t\t\t<div class="product_price"></div>\n\t\t</div>\n\t</div>\n\t<div class="selection_content">\n\t\t<div class="add_to_cart_button"></div>\n\t\t<div class="error_message" style="display:none;"></div>\n\t</div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["javascripts/standalone/lightbox/templates/hotspots/_hotspot"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="hotspot_marker_container" style="left: ',left,"%; top: ",top,'%;">\n\t<div class="hotspot_marker"></div>\n</div>\n');return __p.join("")}}.call(this);